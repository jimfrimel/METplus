<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>METplus: /home/mccabe/metplus-doc/METplus/ush/produtil/prog.py Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">METplus
   &#160;<span id="projectnumber">METplusV3.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_800bbfad623ff1c1bcbed02a018a6bda.html">ush</a></li><li class="navelem"><a class="el" href="dir_927812840bb05a9b23ea9540e8b05861.html">produtil</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">prog.py</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno"><a class="line" href="namespaceprodutil_1_1prog.html">    1</a></span>&#160;<span class="stringliteral">&quot;&quot;&quot;!Implements the produtil.run: provides the object tree for</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="stringliteral">representing shell commands.</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="stringliteral">Do not load this module directly except for type checking</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="stringliteral">(instanceof(o,produtil.prog.Runner)).  It is meant to be used only by</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="stringliteral">the produtil.run module.  This module is part of the implementation of</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="stringliteral">a shell-like syntax for running programs.  The rest of the</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="stringliteral">implementation is in the produtil.run and produtil.pipeline modules.</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="stringliteral">MPI programs are implemented by the produtil.mpiprog and</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="stringliteral">produtil.mpi_impl.</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="stringliteral">This module implements a shell-like syntax of running shell programs</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="stringliteral">from Python.  This module should not be used directly: the</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="stringliteral">produtil.run implements critical parts of the functionality.</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="stringliteral">Specifically, this module implements the Runner and ImmutableRunner</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="stringliteral">classes.  It also knows how to convert them to</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="stringliteral">produtil.pipeline.Pipeline objects for actual execution.</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="stringliteral">* Runner --- This class represents a process that could be run.  It keeps</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="stringliteral">  track of all possible aspects of running a process, including the</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="stringliteral">  command, arguments, environment variables, stdout stream, stderr</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="stringliteral">  stream, stdin stream, and a list of functions or callable objects to</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="stringliteral">  run before executing the problem.  Provides public functions to modify</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="stringliteral">  the Runner.</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="stringliteral">* ImmutableRunner --- A Runner that cannot be changed: when modifying the</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="stringliteral">  Runner, it returns a new object.  This is to implement shell aliases.</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="stringliteral">  For example, one could make an ImmutableRunner for program to index</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="stringliteral">  GRIB2 files.  All the user would have to do is add the GRIB2 file as</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="stringliteral">  an argument, and capture the output.</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="stringliteral">Note that the actual work of creating the Runner or ImmutableRunner,</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="stringliteral">or turning them into Pipeline objects done by the produtil.run module.</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="stringliteral">Turning MPI programs into Runner objects is done by the</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="stringliteral">produtil.mpiprog module and produtil.mpi_impl package, with the public</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="stringliteral">interface in produtil.run.  Hence, nobody would ever load this module</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="stringliteral">directly, except for type checking (ie.: to see if your argument is a</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="stringliteral">Runner before passing it to produtil.run.checkrun)..&quot;&quot;&quot;</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="keyword">import</span> <a class="code" href="namespaceprodutil_1_1sigsafety.html">produtil.sigsafety</a></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="keyword">import</span> io,select,io,re,time,fcntl,os,logging,signal</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="keyword">import</span> <a class="code" href="namespaceprodutil_1_1mpi__impl.html">produtil.mpi_impl</a></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="keyword">from</span> <a class="code" href="namespaceprodutil_1_1pipeline.html">produtil.pipeline</a> <span class="keyword">import</span> launch, manage, PIPE, ERR2OUT</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1ProgSyntaxError.html">   46</a></span>&#160;<span class="keyword">class </span><a class="code" href="classprodutil_1_1prog_1_1ProgSyntaxError.html">ProgSyntaxError</a>(Exception): </div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="stringliteral">&quot;&quot;&quot;!Base class of exceptions raised when a Runner is given</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="stringliteral">    arguments that make no sense.&quot;&quot;&quot;</span></div><div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1OverspecifiedStream.html">   49</a></span>&#160;<span class="keyword">class </span><a class="code" href="classprodutil_1_1prog_1_1OverspecifiedStream.html">OverspecifiedStream</a>(<a class="code" href="classprodutil_1_1prog_1_1ProgSyntaxError.html">ProgSyntaxError</a>): </div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="stringliteral">&quot;&quot;&quot;!Raised when one tries to specify the stdout, stderr or stdin to</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="stringliteral">    go to, or come from, more than one location&quot;&quot;&quot;</span></div><div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1MultipleStdin.html">   52</a></span>&#160;<span class="keyword">class </span><a class="code" href="classprodutil_1_1prog_1_1MultipleStdin.html">MultipleStdin</a>(<a class="code" href="classprodutil_1_1prog_1_1OverspecifiedStream.html">OverspecifiedStream</a>): </div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="stringliteral">&quot;&quot;&quot;!Raised when the caller specifies more than one source for the</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="stringliteral">    stdin of a Runner&quot;&quot;&quot;</span></div><div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1MultipleStdout.html">   55</a></span>&#160;<span class="keyword">class </span><a class="code" href="classprodutil_1_1prog_1_1MultipleStdout.html">MultipleStdout</a>(<a class="code" href="classprodutil_1_1prog_1_1OverspecifiedStream.html">OverspecifiedStream</a>): </div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="stringliteral">&quot;&quot;&quot;!Raised when the caller specifies more than one destination for</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="stringliteral">    a Runner&#39;s stdout&quot;&quot;&quot;</span></div><div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1MultipleStderr.html">   58</a></span>&#160;<span class="keyword">class </span><a class="code" href="classprodutil_1_1prog_1_1MultipleStderr.html">MultipleStderr</a>(<a class="code" href="classprodutil_1_1prog_1_1OverspecifiedStream.html">OverspecifiedStream</a>):</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="stringliteral">&quot;&quot;&quot;!Raised when the caller specifies more than one destination for</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="stringliteral">    a Runner&#39;s stderr&quot;&quot;&quot;</span></div><div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1InvalidPipeline.html">   61</a></span>&#160;<span class="keyword">class </span><a class="code" href="classprodutil_1_1prog_1_1InvalidPipeline.html">InvalidPipeline</a>(<a class="code" href="classprodutil_1_1prog_1_1ProgSyntaxError.html">ProgSyntaxError</a>): </div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="stringliteral">&quot;&quot;&quot;!Raised when the caller specifies an invalid input or output</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="stringliteral">    when piping a Runner into or out of another object.&quot;&quot;&quot;</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1NotValidPosixSh.html">   65</a></span>&#160;<span class="keyword">class </span><a class="code" href="classprodutil_1_1prog_1_1NotValidPosixSh.html">NotValidPosixSh</a>(Exception): </div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="stringliteral">&quot;&quot;&quot;!Base class of exceptions that are raised when converting a</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="stringliteral">    Runner or pipeline of Runners to a POSIX sh command, if the Runner</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="stringliteral">    cannot be expressed as POSIX sh.&quot;&quot;&quot;</span></div><div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1PrerunNotValidPosixSh.html">   69</a></span>&#160;<span class="keyword">class </span><a class="code" href="classprodutil_1_1prog_1_1PrerunNotValidPosixSh.html">PrerunNotValidPosixSh</a>(<a class="code" href="classprodutil_1_1prog_1_1NotValidPosixSh.html">NotValidPosixSh</a>):</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="stringliteral">&quot;&quot;&quot;!Raised when trying to convert a pipeline of Runners to a POSIX</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="stringliteral">    sh string if the pipeline has a prerun object that lacks a to_shell</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="stringliteral">    function.&quot;&quot;&quot;</span></div><div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1NoSuchRedirection.html">   73</a></span>&#160;<span class="keyword">class </span><a class="code" href="classprodutil_1_1prog_1_1NoSuchRedirection.html">NoSuchRedirection</a>(<a class="code" href="classprodutil_1_1prog_1_1NotValidPosixSh.html">NotValidPosixSh</a>): </div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="stringliteral">&quot;&quot;&quot;!Raised when trying to convert a pipeline of Runners to a POSIX</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="stringliteral">    sh string, if a redirection in the pipeline cannot be expressed in</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="stringliteral">    POSIX sh.&quot;&quot;&quot;</span></div><div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1NotValidPosixShString.html">   77</a></span>&#160;<span class="keyword">class </span><a class="code" href="classprodutil_1_1prog_1_1NotValidPosixShString.html">NotValidPosixShString</a>(Exception): </div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="stringliteral">&quot;&quot;&quot;!Raised when converting a Runner or pipeline of Runners to a</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="stringliteral">    POSIX sh string.  If a string is sent to a program&#39;s stdin, this</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="stringliteral">    is raised when that string cannot be expressed in POSIX sh.&quot;&quot;&quot;</span></div><div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1EqualInExecutable.html">   81</a></span>&#160;<span class="keyword">class </span><a class="code" href="classprodutil_1_1prog_1_1EqualInExecutable.html">EqualInExecutable</a>(Exception): </div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="stringliteral">&quot;&quot;&quot;!Raised when converting a Runner or pipeline of Runners to a</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="stringliteral">    posix sh string if a Runner&#39;s executable contains an equal (&quot;=&quot;)</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="stringliteral">    sign.&quot;&quot;&quot;</span></div><div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1EqualInEnv.html">   85</a></span>&#160;<span class="keyword">class </span><a class="code" href="classprodutil_1_1prog_1_1EqualInEnv.html">EqualInEnv</a>(Exception): </div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="stringliteral">&quot;&quot;&quot;!Raised when converting a Runner or pipeline of Runners to a</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="stringliteral">    POSIX sh string if there is an equal (&quot;=&quot;) sign in an environment</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="stringliteral">    variable name.&quot;&quot;&quot;</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1InvalidRunArgument.html">   92</a></span>&#160;<span class="keyword">class </span><a class="code" href="classprodutil_1_1prog_1_1InvalidRunArgument.html">InvalidRunArgument</a>(<a class="code" href="classprodutil_1_1prog_1_1ProgSyntaxError.html">ProgSyntaxError</a>):</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="stringliteral">&quot;&quot;&quot;!Raised to indicate that an invalid argument was sent into one</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="stringliteral">    of the run module functions.&quot;&quot;&quot;</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div><div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1ExitStatusException.html">   96</a></span>&#160;<span class="keyword">class </span><a class="code" href="classprodutil_1_1prog_1_1ExitStatusException.html">ExitStatusException</a>(Exception):</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="stringliteral">&quot;&quot;&quot;!Raised to indicate that a program generated an invalid return</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="stringliteral">    code.  </span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="stringliteral">    Examine the &quot;returncode&quot; member variable for the returncode value.</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="stringliteral">    Negative values indicate the program was terminated by a signal</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="stringliteral">    while zero and positive values indicate the program exited.  The</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="stringliteral">    highest exit status of the pipeline is returned when a pipeline is</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="stringliteral">    used.</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="stringliteral">    For MPI programs, the exit status is generally unreliable due to</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="stringliteral">    implementation-dependent issues, but this package attempts to</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="stringliteral">    return the highest exit status seen.  Generally, you can count on</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="stringliteral">    MPI implementations to return zero if you call MPI_Finalize() and</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="stringliteral">    exit normally, and non-zero if you call MPI_Abort with a non-zero</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="stringliteral">    argument.  Any other situation will produce unpredictable results.&quot;&quot;&quot;</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="comment">##@var message</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment">    # A string description for what went wrong</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="comment">##@var returncode</span></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment">    # The return code, including signal information.  </span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div><div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1ExitStatusException.html#ab3ba06ee74614ccc99bab1f345015736">  118</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1ExitStatusException.html#ab3ba06ee74614ccc99bab1f345015736">__init__</a>(self,message,status):</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!ExitStatusException constructor</span></div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="stringliteral">        @param message a description of what went wrong</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="stringliteral">        @param status the exit status&quot;&quot;&quot;</span></div><div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1ExitStatusException.html#acc028786edd07d64d1e0a9b17e1b502c">  122</a></span>&#160;        self.<a class="code" href="classprodutil_1_1prog_1_1ExitStatusException.html#acc028786edd07d64d1e0a9b17e1b502c">message</a>=message</div><div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1ExitStatusException.html#a2960a647082baf6baf4aa535656413a0">  123</a></span>&#160;        self.<a class="code" href="classprodutil_1_1prog_1_1ExitStatusException.html#a2960a647082baf6baf4aa535656413a0">returncode</a>=status</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    @property</div><div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1ExitStatusException.html#aacf5ec061ec4d9d110703acf4ebc9371">  126</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1ExitStatusException.html#aacf5ec061ec4d9d110703acf4ebc9371">status</a>(self):</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!An alias for self.returncode: the exit status.&quot;&quot;&quot;</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        <span class="keywordflow">return</span> self.<a class="code" href="classprodutil_1_1prog_1_1ExitStatusException.html#a2960a647082baf6baf4aa535656413a0">returncode</a></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1ExitStatusException.html#ae5705b224947b4136e5bf3a1cf65551a">  130</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1ExitStatusException.html#ae5705b224947b4136e5bf3a1cf65551a">__str__</a>(self):</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!A string description of the error.&quot;&quot;&quot;</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&#39;%s (returncode=%d)&#39;</span>%(str(self.<a class="code" href="classprodutil_1_1prog_1_1ExitStatusException.html#acc028786edd07d64d1e0a9b17e1b502c">message</a>),int(self.<a class="code" href="classprodutil_1_1prog_1_1ExitStatusException.html#a2960a647082baf6baf4aa535656413a0">returncode</a>))</div><div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1ExitStatusException.html#aba70f2927faa79e8ea7cf2063e48c264">  133</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1ExitStatusException.html#aba70f2927faa79e8ea7cf2063e48c264">__repr__</a>(self):</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!A pythonic description of the error for debugging.&quot;&quot;&quot;</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&#39;NonZeroExit(%s,%s)&#39;</span>%(repr(self.<a class="code" href="classprodutil_1_1prog_1_1ExitStatusException.html#acc028786edd07d64d1e0a9b17e1b502c">message</a>),repr(self.<a class="code" href="classprodutil_1_1prog_1_1ExitStatusException.html#a2960a647082baf6baf4aa535656413a0">returncode</a>))</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div><div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="namespaceprodutil_1_1prog.html#acd3726face2cb809745f9ec1b4992ddf">  139</a></span>&#160;<span class="keyword">def </span><a class="code" href="namespaceprodutil_1_1prog.html#acd3726face2cb809745f9ec1b4992ddf">shvarok</a>(s):</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="stringliteral">&quot;&quot;&quot;!Returns True if the specified environment variable name is a</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="stringliteral">    valid POSIX sh variable name, and False otherwise.</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="stringliteral">    @param s an environment variable name&quot;&quot;&quot;</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordflow">if</span> re.search(<span class="stringliteral">r&#39;\A[A-Za-z][A-Za-z0-9_]*\z&#39;</span>,s):</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">True</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keywordflow">else</span>:</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">False</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="namespaceprodutil_1_1prog.html#ada9b7369e413df1fe077636f2ae07555">  148</a></span>&#160;<span class="keyword">def </span><a class="code" href="namespaceprodutil_1_1prog.html#ada9b7369e413df1fe077636f2ae07555">shstrok</a>(s):</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="stringliteral">&quot;&quot;&quot;!Returns True if the specified string can be expressed as a</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="stringliteral">    POSIX sh string, and false otherwise.</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="stringliteral">    @param s a string&quot;&quot;&quot;</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="comment"># Only allow non-whitespace ASCII and space (chr(32)-chr(126)):</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keywordflow">if</span> re.search(<span class="stringliteral">r&#39;\A[a-zA-Z0-9 !&quot;#$%&amp;?()*+,./:;&lt;=&gt;?@^_`{|}~\\\]\[\&#39;-]*\Z&#39;</span>,s):</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">True</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordflow">else</span>:</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">False</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="namespaceprodutil_1_1prog.html#a66ee3b3e6606f964ddd99710fb5b58f6">  158</a></span>&#160;<span class="keyword">def </span><a class="code" href="namespaceprodutil_1_1prog.html#a66ee3b3e6606f964ddd99710fb5b58f6">shbackslash</a>(s):</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="stringliteral">&quot;&quot;&quot;!Given a Python str, returns a backslashed POSIX sh string, or</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="stringliteral">    raises NotValidPosixShString if that cannot be done.</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="stringliteral">    @param s a string to backslash&quot;&quot;&quot;</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    s=str(s)</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordflow">if</span> <span class="keywordflow">not</span> <a class="code" href="namespaceprodutil_1_1prog.html#ada9b7369e413df1fe077636f2ae07555">shstrok</a>(s):</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <span class="keywordflow">raise</span> <a class="code" href="classprodutil_1_1prog_1_1NotValidPosixShString.html">NotValidPosixShString</a>(<span class="stringliteral">&#39;String is not expressable in POSIX sh: %s&#39;</span>%(repr(s),))</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keywordflow">if</span> re.search(<span class="stringliteral">r&#39;(?ms)[^a-zA-Z0-9_+.,/-]&#39;</span>,s):</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&#39;&quot;&#39;</span> + re.sub(<span class="stringliteral">r&#39;([&quot;\\\\$])&#39;</span>,<span class="stringliteral">r&quot;\\\1&quot;</span>,s) + <span class="stringliteral">&#39;&quot;&#39;</span></div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keywordflow">return</span> s</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="comment">########################################################################</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div><div class="line"><a name="l00171"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1StreamGenerator.html">  171</a></span>&#160;<span class="keyword">class </span><a class="code" href="classprodutil_1_1prog_1_1StreamGenerator.html">StreamGenerator</a>(object):</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="stringliteral">&quot;&quot;&quot;!This is part of the internal implementation of Runner, and is</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="stringliteral">    used to convert it to a produtil.pipeline.Pipeline for execution.</span></div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="stringliteral">    This is an abstract class whose subclasses create the Popen&#39;s</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="stringliteral">    stdout, stdin and stderr.&quot;&quot;&quot;</span>  </div><div class="line"><a name="l00176"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1StreamGenerator.html#aa3b7f5387661dc92cfdc3ecaefa1b5bf">  176</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1StreamGenerator.html#aa3b7f5387661dc92cfdc3ecaefa1b5bf">for_input</a>(self):</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Has no effect.  This exists only for debugging.&quot;&quot;&quot;</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&#39;&lt;unexpected:%s&gt;&#39;</span>%(repr(self),)</div><div class="line"><a name="l00179"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1StreamGenerator.html#a23b24d8ba9f00ffbbf7c8d3e5eb6beb8">  179</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1StreamGenerator.html#a23b24d8ba9f00ffbbf7c8d3e5eb6beb8">for_output</a>(self):</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Has no effect.  This exists only for debugging.&quot;&quot;&quot;</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&#39;&lt;unexpected:%s&gt;&#39;</span>%(repr(self),)</div><div class="line"><a name="l00182"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1StreamGenerator.html#a1b58333ad55bc1a9957ea63cd2ef8959">  182</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1StreamGenerator.html#a1b58333ad55bc1a9957ea63cd2ef8959">repr_for_err</a>(self):</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Returns the stderr value.  The default implementation</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="stringliteral">        returns repr_for_out(), causing stderr to receive whatever</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="stringliteral">        stdout receives.&quot;&quot;&quot;</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        <span class="keywordflow">return</span> self.repr_for_out()</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div><div class="line"><a name="l00188"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1FileOpener.html">  188</a></span>&#160;<span class="keyword">class </span><a class="code" href="classprodutil_1_1prog_1_1FileOpener.html">FileOpener</a>(<a class="code" href="classprodutil_1_1prog_1_1StreamGenerator.html">StreamGenerator</a>):</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="stringliteral">&quot;&quot;&quot;!This is part of the internal implementation of Runner, used to</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="stringliteral">    convert it to a produtil.pipeline.Pipeline for execution.  It</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="stringliteral">    represents stdin, stdout or stderr being connected to an open</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="stringliteral">    file.  It instructs the Runner to open the file before starting</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="stringliteral">    the process.&quot;&quot;&quot;</span></div><div class="line"><a name="l00194"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1FileOpener.html#ad8b84608505744912dad861cf7f183ec">  194</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1FileOpener.html#ad8b84608505744912dad861cf7f183ec">__init__</a>(self,filename,mode,err=False):</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!FileOpener constructor</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="stringliteral">        @param filename the name of the file being opened</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="stringliteral">        @param mode how it is being opened</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="stringliteral">        @param err if True, this is for stderr&quot;&quot;&quot;</span></div><div class="line"><a name="l00199"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1FileOpener.html#a39d8edf68b4c66de3da5d90623664c4b">  199</a></span>&#160;        self.<a class="code" href="classprodutil_1_1prog_1_1FileOpener.html#a39d8edf68b4c66de3da5d90623664c4b">filename</a>=filename</div><div class="line"><a name="l00200"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1FileOpener.html#af1a224bbe3fab7a93419729b7a23966a">  200</a></span>&#160;        self.<a class="code" href="classprodutil_1_1prog_1_1FileOpener.html#af1a224bbe3fab7a93419729b7a23966a">mode</a>=mode</div><div class="line"><a name="l00201"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1FileOpener.html#a1789527dd323e18960d9c10553a2e8e6">  201</a></span>&#160;        self.<a class="code" href="classprodutil_1_1prog_1_1FileOpener.html#a1789527dd323e18960d9c10553a2e8e6">err</a>=err</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="comment">##@var filename </span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">    # the name of the file being opened</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="comment">##@var mode</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment">    # how the file is being opened</span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="comment">##@var err</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">    # If True, this is for stderr.</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="line"><a name="l00211"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1FileOpener.html#aa1830342c0e46d7d1c7621a91c9d3a4f">  211</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1FileOpener.html#aa1830342c0e46d7d1c7621a91c9d3a4f">copy</a>(self):</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Creates a shallow copy of this object.&quot;&quot;&quot;</span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classprodutil_1_1prog_1_1FileOpener.html">FileOpener</a>(self.<a class="code" href="classprodutil_1_1prog_1_1FileOpener.html#a39d8edf68b4c66de3da5d90623664c4b">filename</a>,self.<a class="code" href="classprodutil_1_1prog_1_1FileOpener.html#af1a224bbe3fab7a93419729b7a23966a">mode</a>,self.<a class="code" href="classprodutil_1_1prog_1_1FileOpener.html#a1789527dd323e18960d9c10553a2e8e6">err</a>)</div><div class="line"><a name="l00214"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1FileOpener.html#ab36a0759920a2ddd2f80a3a7634e538b">  214</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1FileOpener.html#ab36a0759920a2ddd2f80a3a7634e538b">to_shell</a>(self):</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Creates a POSIX sh representation of the part of the</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="stringliteral">        command that requests redirection.&quot;&quot;&quot;</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        more=<span class="stringliteral">&#39;&#39;</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classprodutil_1_1prog_1_1FileOpener.html#a1789527dd323e18960d9c10553a2e8e6">err</a>:</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            more=<span class="stringliteral">&#39;2&#39;</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        <span class="keywordflow">if</span>   self.<a class="code" href="classprodutil_1_1prog_1_1FileOpener.html#af1a224bbe3fab7a93419729b7a23966a">mode</a>==<span class="stringliteral">&#39;ab&#39;</span>: <span class="keywordflow">return</span> <span class="stringliteral">&#39;%s&gt;&gt; %s&#39;</span>%(more,<a class="code" href="namespaceprodutil_1_1prog.html#a66ee3b3e6606f964ddd99710fb5b58f6">shbackslash</a>(self.<a class="code" href="classprodutil_1_1prog_1_1FileOpener.html#a39d8edf68b4c66de3da5d90623664c4b">filename</a>))</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <span class="keywordflow">elif</span> self.<a class="code" href="classprodutil_1_1prog_1_1FileOpener.html#af1a224bbe3fab7a93419729b7a23966a">mode</a>==<span class="stringliteral">&#39;wb&#39;</span>: <span class="keywordflow">return</span> <span class="stringliteral">&#39;%s&gt; %s&#39;</span>%(more,<a class="code" href="namespaceprodutil_1_1prog.html#a66ee3b3e6606f964ddd99710fb5b58f6">shbackslash</a>(self.<a class="code" href="classprodutil_1_1prog_1_1FileOpener.html#a39d8edf68b4c66de3da5d90623664c4b">filename</a>))</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <span class="keywordflow">elif</span> self.<a class="code" href="classprodutil_1_1prog_1_1FileOpener.html#af1a224bbe3fab7a93419729b7a23966a">mode</a>==<span class="stringliteral">&#39;rb&#39;</span>: <span class="keywordflow">return</span> <span class="stringliteral">&#39;cat %s | &#39;</span>%(<a class="code" href="namespaceprodutil_1_1prog.html#a66ee3b3e6606f964ddd99710fb5b58f6">shbackslash</a>(self.<a class="code" href="classprodutil_1_1prog_1_1FileOpener.html#a39d8edf68b4c66de3da5d90623664c4b">filename</a>),)</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <span class="keywordflow">raise</span> <a class="code" href="classprodutil_1_1prog_1_1NoSuchRedirection.html">NoSuchRedirection</a>(<span class="stringliteral">&#39;Cannot convert file open mode %s to a &#39;</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                                <span class="stringliteral">&#39;POSIX sh redirection&#39;</span>%(self.<a class="code" href="classprodutil_1_1prog_1_1FileOpener.html#af1a224bbe3fab7a93419729b7a23966a">mode</a>,))</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    @property </div><div class="line"><a name="l00226"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1FileOpener.html#a907d80ddbf804fe37d65f943282ca29c">  226</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1FileOpener.html#a907d80ddbf804fe37d65f943282ca29c">intmode</a>(self):</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Returns an integer version of mode suitable for os.open&quot;&quot;&quot;</span></div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        intmode=<span class="keywordtype">None</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        assert(<span class="stringliteral">&#39;r&#39; in &#39;</span>rb&#39;)</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <span class="keywordflow">if</span> <span class="stringliteral">&#39;r&#39; in self.mode:</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="stringliteral">            intmode=os.O_RDONLY</span></div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="stringliteral">        </span><span class="keywordflow">elif</span> <span class="stringliteral">&#39;w&#39;</span> <span class="keywordflow">in</span> self.<a class="code" href="classprodutil_1_1prog_1_1FileOpener.html#af1a224bbe3fab7a93419729b7a23966a">mode</a>:</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            intmode=os.O_WRONLY|os.O_CREAT|os.O_TRUNC</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        <span class="keywordflow">elif</span> <span class="stringliteral">&#39;a&#39;</span> <span class="keywordflow">in</span> self.<a class="code" href="classprodutil_1_1prog_1_1FileOpener.html#af1a224bbe3fab7a93419729b7a23966a">mode</a>:</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            intmode=os.O_WRONLY|os.O_CREAT|os.O_APPEND</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        assert(intmode <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>)</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <span class="keywordflow">return</span> intmode</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keyword">def </span>_gen_stream(self):</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Returns a tuple (None,stream,None,True) where &quot;stream&quot; is</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="stringliteral">        the opened file object.&quot;&quot;&quot;</span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="keywordflow">return</span> (<span class="keywordtype">None</span>,os.open(self.<a class="code" href="classprodutil_1_1prog_1_1FileOpener.html#a39d8edf68b4c66de3da5d90623664c4b">filename</a>,self.<a class="code" href="classprodutil_1_1prog_1_1FileOpener.html#a907d80ddbf804fe37d65f943282ca29c">intmode</a>),<span class="keywordtype">None</span>,<span class="keyword">True</span>)</div><div class="line"><a name="l00242"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1FileOpener.html#a54695b8990af81165e7eebd0cb9232bc">  242</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1FileOpener.html#a54695b8990af81165e7eebd0cb9232bc">__repr__</a>(self):</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Returns a string representation of this object as valid</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="stringliteral">        Python code.&quot;&quot;&quot;</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&#39;FileOpener(%s,%s)&#39;</span>%(repr(self.<a class="code" href="classprodutil_1_1prog_1_1FileOpener.html#a39d8edf68b4c66de3da5d90623664c4b">filename</a>),repr(self.<a class="code" href="classprodutil_1_1prog_1_1FileOpener.html#af1a224bbe3fab7a93419729b7a23966a">mode</a>))</div><div class="line"><a name="l00246"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1FileOpener.html#a2fb4fe3fcfc583de3b7bf1cb7bdc6498">  246</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1FileOpener.html#a2fb4fe3fcfc583de3b7bf1cb7bdc6498">repr_for_in</a>(self):</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Part of the implementation of Runner.__repr__, this returns</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="stringliteral">        the filename and &quot;,string=False&quot;.&quot;&quot;&quot;</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        <span class="keywordflow">return</span> repr(self.<a class="code" href="classprodutil_1_1prog_1_1FileOpener.html#a39d8edf68b4c66de3da5d90623664c4b">filename</a>)+<span class="stringliteral">&#39;,string=False&#39;</span></div><div class="line"><a name="l00250"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1FileOpener.html#aaa7f530182e24d3f87e2a378fd701d81">  250</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1FileOpener.html#aaa7f530182e24d3f87e2a378fd701d81">repr_for_out</a>(self):</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Part of the implementation of Runner.__repr__, this returns</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="stringliteral">        the filename and &quot;,string=False&quot;.  It also appends &quot;,append=X&quot;</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="stringliteral">        where X is the true/false flag for appending to the file.&quot;&quot;&quot;</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&#39;%s,append=%s&#39;</span>%(repr(self.<a class="code" href="classprodutil_1_1prog_1_1FileOpener.html#a39d8edf68b4c66de3da5d90623664c4b">filename</a>),repr(self.<a class="code" href="classprodutil_1_1prog_1_1FileOpener.html#af1a224bbe3fab7a93419729b7a23966a">mode</a>==<span class="stringliteral">&#39;ab&#39;</span>))</div><div class="line"><a name="l00255"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1FileOpener.html#ab1c60347155078adb5ac3e54958fd471">  255</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1FileOpener.html#ab1c60347155078adb5ac3e54958fd471">repr_for_err</a>(self): </div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Same as repr_for_out.&quot;&quot;&quot;</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        <span class="keywordflow">return</span> self.<a class="code" href="classprodutil_1_1prog_1_1FileOpener.html#aaa7f530182e24d3f87e2a378fd701d81">repr_for_out</a>()</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;</div><div class="line"><a name="l00259"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1StringInput.html">  259</a></span>&#160;<span class="keyword">class </span><a class="code" href="classprodutil_1_1prog_1_1StringInput.html">StringInput</a>(<a class="code" href="classprodutil_1_1prog_1_1StreamGenerator.html">StreamGenerator</a>):</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="stringliteral">&quot;&quot;&quot;!Represents sending a string to a process&#39;s stdin.&quot;&quot;&quot;</span></div><div class="line"><a name="l00261"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1StringInput.html#a82e1d10dcc8da857cd632a76d8411d20">  261</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1StringInput.html#a82e1d10dcc8da857cd632a76d8411d20">__init__</a>(self,obj):</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Creates a StringInput that sends the specified object to</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="stringliteral">        stdin.</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="stringliteral">        @param obj the object to send to stdin&quot;&quot;&quot;</span></div><div class="line"><a name="l00265"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1StringInput.html#a806a9b2c16cc4f96714461db3d728414">  265</a></span>&#160;        self.<a class="code" href="classprodutil_1_1prog_1_1StringInput.html#a806a9b2c16cc4f96714461db3d728414">obj</a>=obj</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="comment">##@var obj</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment">    # the object to send to stdin</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;</div><div class="line"><a name="l00269"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1StringInput.html#adb8fec930373c3cb7d962ef10386c9be">  269</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1StringInput.html#adb8fec930373c3cb7d962ef10386c9be">copy</a>(self):</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Returns a shallow copy of this object.&quot;&quot;&quot;</span></div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classprodutil_1_1prog_1_1StringInput.html">StringInput</a>(self.<a class="code" href="classprodutil_1_1prog_1_1StringInput.html#a806a9b2c16cc4f96714461db3d728414">obj</a>)</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="keyword">def </span>_gen_stream(self):</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Returns a tuple containing (O,None,None,None) where O was</span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="stringliteral">        the object sent to the StringInput constructor.&quot;&quot;&quot;</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <span class="keywordflow">return</span> (self.<a class="code" href="classprodutil_1_1prog_1_1StringInput.html#a806a9b2c16cc4f96714461db3d728414">obj</a>,<span class="keywordtype">None</span>,<span class="keywordtype">None</span>,<span class="keywordtype">None</span>)</div><div class="line"><a name="l00276"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1StringInput.html#a0e3d0da4561109756e5a1da90e8fb6c7">  276</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1StringInput.html#a0e3d0da4561109756e5a1da90e8fb6c7">__repr__</a>(self):</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Returns a string representation of this object as valid</span></div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;<span class="stringliteral">        Python code.&quot;&quot;&quot;</span></div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&#39;StringInput(%s)&#39;</span>%(repr(self.<a class="code" href="classprodutil_1_1prog_1_1StringInput.html#a806a9b2c16cc4f96714461db3d728414">obj</a>),)</div><div class="line"><a name="l00280"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1StringInput.html#a1166a490f7649cb960e1d0e09da730af">  280</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1StringInput.html#a1166a490f7649cb960e1d0e09da730af">to_shell</a>(self): </div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Converts this object, if possible, to an echo command</span></div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="stringliteral">        followed by a pipe (&quot;|&quot;).&quot;&quot;&quot;</span></div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&#39;echo %s | &#39;</span>%(<a class="code" href="namespaceprodutil_1_1prog.html#a66ee3b3e6606f964ddd99710fb5b58f6">shbackslash</a>(self.<a class="code" href="classprodutil_1_1prog_1_1StringInput.html#a806a9b2c16cc4f96714461db3d728414">obj</a>))</div><div class="line"><a name="l00284"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1StringInput.html#a4d0057e549d8f679be681ac671734f6e">  284</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1StringInput.html#a4d0057e549d8f679be681ac671734f6e">repr_for_in</a>(self):</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Part of the implementation of Runner.__repr__.  If</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="stringliteral">        possible, this creates valid Python code to represent</span></div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="stringliteral">        specifying sending the given string to the stdin of a Runner.</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;<span class="stringliteral">        If the string is too long, it is abbreviated.&quot;&quot;&quot;</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        <span class="keywordflow">if</span> len(self.<a class="code" href="classprodutil_1_1prog_1_1StringInput.html#a806a9b2c16cc4f96714461db3d728414">obj</a>)&gt;40:</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            <span class="keywordflow">return</span> <span class="stringliteral">&quot;%s...,string=True&quot;</span>%(repr(self.<a class="code" href="classprodutil_1_1prog_1_1StringInput.html#a806a9b2c16cc4f96714461db3d728414">obj</a>[0:37]+<span class="stringliteral">&#39;...&#39;</span>),)</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;            <span class="keywordflow">return</span> <span class="stringliteral">&#39;%s,string=True&#39;</span>%(repr(self.<a class="code" href="classprodutil_1_1prog_1_1StringInput.html#a806a9b2c16cc4f96714461db3d728414">obj</a>),)</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div><div class="line"><a name="l00294"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1StreamReuser.html">  294</a></span>&#160;<span class="keyword">class </span><a class="code" href="classprodutil_1_1prog_1_1StreamReuser.html">StreamReuser</a>(<a class="code" href="classprodutil_1_1prog_1_1StreamGenerator.html">StreamGenerator</a>):</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="stringliteral">&quot;&quot;&quot;!Arranges for a stream-like object to be sent to the stdout,</span></div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="stringliteral">    stderr or stdin of a Runner.&quot;&quot;&quot;</span></div><div class="line"><a name="l00297"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1StreamReuser.html#a63e953842a4f3d9e2d8c5729bb8ebaf7">  297</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1StreamReuser.html#a63e953842a4f3d9e2d8c5729bb8ebaf7">__init__</a>(self,obj):</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Creates a StreamReuser for the specified stream-like object.</span></div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="stringliteral">        @param obj the stream-like object to reuse.&quot;&quot;&quot;</span></div><div class="line"><a name="l00300"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1StreamReuser.html#a9fb0637df002a1f0de9c03f965adb3fc">  300</a></span>&#160;        self.<a class="code" href="classprodutil_1_1prog_1_1StreamReuser.html#a9fb0637df002a1f0de9c03f965adb3fc">obj</a>=obj</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="comment">##@var obj</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="comment">    # the stream-like object to reuse.</span></div><div class="line"><a name="l00303"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1StreamReuser.html#ae445d7a4d861bd4ab8b13aa5b40d2b4e">  303</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1StreamReuser.html#ae445d7a4d861bd4ab8b13aa5b40d2b4e">copy</a>(self):</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Returns a shallow copy of this object.  Note that means</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;<span class="stringliteral">        that the underlying stream object is not copied.&quot;&quot;&quot;</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classprodutil_1_1prog_1_1StreamReuser.html">StreamReuser</a>(self.<a class="code" href="classprodutil_1_1prog_1_1StreamReuser.html#a9fb0637df002a1f0de9c03f965adb3fc">obj</a>)</div><div class="line"><a name="l00307"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1StreamReuser.html#a074df555d6a339742584871dc529660c">  307</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1StreamReuser.html#a074df555d6a339742584871dc529660c">to_shell</a>(self):</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Raises NotValidPosixSh to indicate that the stream cannot</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="stringliteral">        be represented as POSIX sh.&quot;&quot;&quot;</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        <span class="keywordflow">raise</span> <a class="code" href="classprodutil_1_1prog_1_1NotValidPosixSh.html">NotValidPosixSh</a>(<span class="stringliteral">&#39;Python streams cannot be passed to &#39;</span></div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                              <span class="stringliteral">&#39;remote POSIX sh processes.&#39;</span>)</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keyword">def </span>_gen_stream(self):</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Returns a tuple (None,None,obj,False) where obj is the</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="stringliteral">        provided stream-like object.&quot;&quot;&quot;</span></div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        <span class="keywordflow">return</span> (<span class="keywordtype">None</span>,<span class="keywordtype">None</span>,self.<a class="code" href="classprodutil_1_1prog_1_1StreamReuser.html#a9fb0637df002a1f0de9c03f965adb3fc">obj</a>,<span class="keyword">False</span>)</div><div class="line"><a name="l00316"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1StreamReuser.html#aa3b3accdc6aca8f2825c87edf2a8c040">  316</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1StreamReuser.html#aa3b3accdc6aca8f2825c87edf2a8c040">repr_for_in</a>(self):</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Returns repr(obj) where obj is the given stream-like</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="stringliteral">        object.&quot;&quot;&quot;</span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <span class="keywordflow">return</span> repr(self.<a class="code" href="classprodutil_1_1prog_1_1StreamReuser.html#a9fb0637df002a1f0de9c03f965adb3fc">obj</a>)</div><div class="line"><a name="l00320"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1StreamReuser.html#ae6f84aa10c0048a705c8344f722b62c4">  320</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1StreamReuser.html#ae6f84aa10c0048a705c8344f722b62c4">repr_for_out</a>(self):</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Returns repr(obj) where obj is the given stream-like</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="stringliteral">        object.&quot;&quot;&quot;</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        <span class="keywordflow">return</span> repr(self.<a class="code" href="classprodutil_1_1prog_1_1StreamReuser.html#a9fb0637df002a1f0de9c03f965adb3fc">obj</a>)</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div><div class="line"><a name="l00325"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1OutIsError.html">  325</a></span>&#160;<span class="keyword">class </span><a class="code" href="classprodutil_1_1prog_1_1OutIsError.html">OutIsError</a>(<a class="code" href="classprodutil_1_1prog_1_1StreamGenerator.html">StreamGenerator</a>):</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="stringliteral">&quot;&quot;&quot;!Instructs a Runner to send stderr to stdout&quot;&quot;&quot;</span></div><div class="line"><a name="l00327"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1OutIsError.html#a0ed73d4b81e2506976a7b9a5fbc8871f">  327</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1OutIsError.html#a0ed73d4b81e2506976a7b9a5fbc8871f">__init__</a>(self):      </div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!OutIsError constructor.&quot;&quot;&quot;</span></div><div class="line"><a name="l00329"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1OutIsError.html#a33373ef294446db4fbb062f8b353ac4a">  329</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1OutIsError.html#a33373ef294446db4fbb062f8b353ac4a">copy</a>(self):</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Returns a new OutIsError object.&quot;&quot;&quot;</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classprodutil_1_1prog_1_1OutIsError.html">OutIsError</a>()</div><div class="line"><a name="l00332"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1OutIsError.html#a070066f632bfc52bc6487d19fec3351c">  332</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1OutIsError.html#a070066f632bfc52bc6487d19fec3351c">to_shell</a>(self):      </div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Returns &quot;2&gt;&amp;1&quot; &quot;&quot;&quot;</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&#39;2&gt;&amp;1&#39;</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="keyword">def </span>_gen_stream(self):</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Returns a tuple containing (None,None,pipeline.ERR2OUT,False)&quot;&quot;&quot;</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        <span class="keywordflow">return</span> (<span class="keywordtype">None</span>,<span class="keywordtype">None</span>,ERR2OUT,<span class="keyword">False</span>)</div><div class="line"><a name="l00338"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1OutIsError.html#ae27a104ef787885a06f3102fa0b2ccb7">  338</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1OutIsError.html#ae27a104ef787885a06f3102fa0b2ccb7">repr_for_in</a>(self):   </div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!This should never be called.  It returns &quot;.err2out()&quot;.&quot;&quot;&quot;</span></div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&#39;.err2out()&#39;</span></div><div class="line"><a name="l00341"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1OutIsError.html#aa3a3de9d42958ceb44d879e3c1cdc4de">  341</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1OutIsError.html#aa3a3de9d42958ceb44d879e3c1cdc4de">repr_for_out</a>(self):  </div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Part of the representation of Runner.__repr__.  Returns</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="stringliteral">        &quot;.err2out()&quot; which instructs a Runner to send stderr to</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="stringliteral">        stdout.&quot;&quot;&quot;</span></div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&#39;.err2out()&#39;</span></div><div class="line"><a name="l00346"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1OutIsError.html#aa86f50914d8a06b685d8d92793b8615e">  346</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1OutIsError.html#aa86f50914d8a06b685d8d92793b8615e">__eq__</a>(self,other):  </div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Is the other object an OutIsError?</span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="stringliteral">        @param other the other object to analyze.&quot;&quot;&quot;</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <span class="keywordflow">return</span> isinstance(other,OutIsError)</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="comment">########################################################################</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;</div><div class="line"><a name="l00353"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1Runner.html">  353</a></span>&#160;<span class="keyword">class </span><a class="code" href="classprodutil_1_1prog_1_1Runner.html">Runner</a>(object):</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="stringliteral">&quot;&quot;&quot;!Represents a single stage of a pipeline to execute.</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="stringliteral">    This is a linked list class used to store information about a</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="stringliteral">    program or pipeline of programs to be run.  It has the capability</span></div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="stringliteral">    of converting itself to a Pipeline object (run(Runner)), or</span></div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="stringliteral">    converting itself to a POSIX sh command (Runner.to_shell()).  Note</span></div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="stringliteral">    that some commands cannot be represented in POSIX sh, such as</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="stringliteral">    commands with non-ASCII characters or commands that have Python</span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="stringliteral">    streams as their stdout or stdin.  Those commands can still be run</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="stringliteral">    with a Pipeline, but trying to convert them to a POSIX sh command</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="stringliteral">    will throw NotValidPosixSh or a subclass thereof.&quot;&quot;&quot;</span></div><div class="line"><a name="l00365"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1Runner.html#ade5a2e90df814ee4b57b90d3363f538d">  365</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1Runner.html#ade5a2e90df814ee4b57b90d3363f538d">__init__</a>(self,args,**kwargs):</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Creates a new Runner.  </span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="stringliteral">        The only non-keyword argument can be one of three things:</span></div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="stringliteral">          1. A Runner to copy.  Every aspect of the Runner that can be</span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="stringliteral">             copied will be.  Note that if a stream-like object is</span></div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="stringliteral">             connected to stdin, stdout or stderr, it will NOT be</span></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="stringliteral">             copied.</span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="stringliteral">          2. A list of strings.  This will be used as the command</span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="stringliteral">             path, and arguments.</span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="stringliteral">        Many options can be set via keyword arguments:</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="stringliteral">        * clearenv=True - the environment should be cleared before</span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="stringliteral">            running this command.  Any arguments set by the env=</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="stringliteral">            keyword or the .env(...) member function ignore this.</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="stringliteral">            Also, PATH, USER, LOGNAME and HOME are retained since</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="stringliteral">            most programs cannot run without them.</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="stringliteral">        * env=dict(var=value,...) - a dict of environment variables to</span></div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;<span class="stringliteral">            set before running the Runner.  Does NOT affect this</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;<span class="stringliteral">            parent&#39;s process, only the child process.</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<span class="stringliteral">        * in=filename - a file to send to stdin.</span></div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;<span class="stringliteral">        * instr=str - a string to send to stdin</span></div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;<span class="stringliteral">        * out=filename - a file to connect to stdout.  Will truncate the file.</span></div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;<span class="stringliteral">        * outa=filename - same as &quot;out=filename,&quot; but appends to the file.</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;<span class="stringliteral">        * err2out - redirects stderr to stdout</span></div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="stringliteral">        * err=filename - a file to connect to stderr.  Will truncate the file.</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;<span class="stringliteral">        * erra=filename - same as &quot;err=filename,&quot; but appends to the file.</span></div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;<span class="stringliteral">        * prerun=[obj,anotherobj,...] - sent to self.prerun, this is a</span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;<span class="stringliteral">            list of functions or callable objects to run before</span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<span class="stringliteral">            executing the process.  The objects are not called until</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="stringliteral">            execution is requested via self._gen.</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;<span class="stringliteral">        @param args the arguments to the program</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="stringliteral">        @param kwargs other settings (see constructor description).&quot;&quot;&quot;</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a3c63617c363be18ad4a178da3adbc077">_stdin</a>=self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a9900cc41690e8f1049549a6a02da20b5">_stdout</a>=self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a74b5f57151ae60ee95739ecce95d81cc">_stderr</a>=self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a2090eb6190ccbefd5caae00a26160a99">_prev</a>=self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#ad9455ea7f568522c46981c6a36374f56">_env</a>=<span class="keywordtype">None</span></div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#ac855a196e05cb7d73679673515a09d1d">_prerun</a>=self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a743a774333449b2738070a9df7cd6aec">_cd</a>=<span class="keywordtype">None</span></div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a0878c81c9ac98e9595fc644710c29f16">_threads</a>=<span class="keywordtype">None</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        <span class="keywordflow">if</span> isinstance(args,Runner):</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;            r=args <span class="comment"># other runner to copy</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;            self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a2de5473ee7b9291147083c5530c9d1bd">_args</a>=list(r._args)</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;            if(r._stdin <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>): self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a3c63617c363be18ad4a178da3adbc077">_stdin</a>=r._stdin.copy()</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;            if(r._stdout <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>): self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a9900cc41690e8f1049549a6a02da20b5">_stdout</a>=r._stdout.copy()</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;            if(r._stderr <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>): self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a74b5f57151ae60ee95739ecce95d81cc">_stderr</a>=r._stderr.copy()</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;            if(r._prev <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>): self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a2090eb6190ccbefd5caae00a26160a99">_prev</a>=r._prev.copy()</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;            if(r._env <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>): self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#ad9455ea7f568522c46981c6a36374f56">_env</a>=dict(r._env)</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;            if(r._prerun <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>): self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#ac855a196e05cb7d73679673515a09d1d">_prerun</a>=list(r._prerun)</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;            self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a1b89d7669063ecd7daf3bb320bffb0f7">_copy_env</a>=r._copy_env</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;            <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(args,list):</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                <span class="keywordflow">raise</span> TypeError(<span class="stringliteral">&#39;The args argument must be a list, not a %s %s.&#39;</span>%(</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                        type(args).__name__,repr(args)))</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;            <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(args[0],str):</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                <span class="keywordflow">raise</span> TypeError(<span class="stringliteral">&#39;The first element of args must be a string, not a %s %s.&#39;</span>%(</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                        type(args[0]).__name__,repr(args)))</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;            self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a2de5473ee7b9291147083c5530c9d1bd">_args</a>=args</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;            self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a1b89d7669063ecd7daf3bb320bffb0f7">_copy_env</a>=<span class="keyword">True</span></div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        <span class="comment"># Initialize environment if requested:</span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        <span class="keywordflow">if</span> <span class="stringliteral">&#39;clearenv&#39;</span> <span class="keywordflow">in</span> kwargs <span class="keywordflow">and</span> kwargs[<span class="stringliteral">&#39;clearenv&#39;</span>]:   self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a6989288ed805ea45f4bf2dedb2e1b64f">clearenv</a>()</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        <span class="keywordflow">if</span> <span class="stringliteral">&#39;env&#39;</span> <span class="keywordflow">in</span> kwargs:                               self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#ad9455ea7f568522c46981c6a36374f56">_env</a>=dict(kwargs[<span class="stringliteral">&#39;env&#39;</span>])</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        <span class="comment"># Initialize input/output/error if requested:</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        <span class="keywordflow">if</span> <span class="stringliteral">&#39;in&#39;</span> <span class="keywordflow">in</span> kwargs:           self&lt;kwargs[<span class="stringliteral">&#39;in&#39;</span>]</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        <span class="keywordflow">if</span> <span class="stringliteral">&#39;instr&#39;</span> <span class="keywordflow">in</span> kwargs:        self&lt;&lt;str(kwargs[<span class="stringliteral">&#39;instr&#39;</span>])</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        <span class="keywordflow">if</span> <span class="stringliteral">&#39;out&#39;</span> <span class="keywordflow">in</span> kwargs:          self&gt;kwargs[<span class="stringliteral">&#39;out&#39;</span>]</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        <span class="keywordflow">if</span> <span class="stringliteral">&#39;outa&#39;</span> <span class="keywordflow">in</span> kwargs:         self&gt;&gt;kwargs[<span class="stringliteral">&#39;outa&#39;</span>]</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        <span class="keywordflow">if</span> <span class="stringliteral">&#39;err2out&#39;</span> <span class="keywordflow">in</span> kwargs:      self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#af0096349fc353565e58907ba669beea4">err2out</a>()</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        <span class="keywordflow">if</span> <span class="stringliteral">&#39;err&#39;</span> <span class="keywordflow">in</span> kwargs:          self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#af134c2ee61da336b4feb0f12744abaf7">err</a>(kwargs[<span class="stringliteral">&#39;err&#39;</span>],append=<span class="keyword">False</span>)</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        <span class="keywordflow">if</span> <span class="stringliteral">&#39;erra&#39;</span> <span class="keywordflow">in</span> kwargs:         self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#af134c2ee61da336b4feb0f12744abaf7">err</a>(kwargs[<span class="stringliteral">&#39;erra&#39;</span>],append=<span class="keyword">True</span>)</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        <span class="keywordflow">if</span> <span class="stringliteral">&#39;cd&#39;</span> <span class="keywordflow">in</span> kwargs:           self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a40e27d32a1743f1f0c0279305c00e064">cd</a>(kwargs[<span class="stringliteral">&#39;cd&#39;</span>])</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        </div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        <span class="comment"># Allow a list of &quot;prerun&quot; callables that will be called at</span></div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        <span class="comment"># the beginning of self._gen:</span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        <span class="keywordflow">if</span> <span class="stringliteral">&#39;prerun&#39;</span> <span class="keywordflow">in</span> kwargs:       self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#aac50c9d8989fcb650bb4dfd80acc7bfc">prerun</a>(kwargs[<span class="stringliteral">&#39;prerun&#39;</span>])</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div><div class="line"><a name="l00453"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1Runner.html#a73c640e8ddbee2de058415b96172ad38">  453</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1Runner.html#a73c640e8ddbee2de058415b96172ad38">getthreads</a>(self):</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Returns the number of threads requested by this program.&quot;&quot;&quot;</span></div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        <span class="keywordflow">return</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a0878c81c9ac98e9595fc644710c29f16">_threads</a></div><div class="line"><a name="l00456"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1Runner.html#a3b5e10295dd72ce5361a16770db4728c">  456</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1Runner.html#a3b5e10295dd72ce5361a16770db4728c">setthreads</a>(self,nthreads):</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Sets the number of threads requested by this program.&quot;&quot;&quot;</span></div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a0878c81c9ac98e9595fc644710c29f16">_threads</a>=int(nthreads)</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        <span class="keywordflow">return</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a0878c81c9ac98e9595fc644710c29f16">_threads</a></div><div class="line"><a name="l00460"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1Runner.html#a5ad3b4661a7df37f771708e67b675529">  460</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1Runner.html#a5ad3b4661a7df37f771708e67b675529">delthreads</a>(self):</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Removes the request for threads.&quot;&quot;&quot;</span></div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a0878c81c9ac98e9595fc644710c29f16">_threads</a>=<span class="keywordtype">None</span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    threads=property(getthreads,setthreads,delthreads,<span class="stringliteral">&quot;&quot;&quot;The number of threads per rank.&quot;&quot;&quot;</span>) </div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    @property</div><div class="line"><a name="l00467"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1Runner.html#a250c1c9b9571243f047a6dee1c77a9ee">  467</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1Runner.html#a250c1c9b9571243f047a6dee1c77a9ee">first</a>(self):</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Returns the first Runner in this pipeline.&quot;&quot;&quot;</span></div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a2090eb6190ccbefd5caae00a26160a99">_prev</a> <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            <span class="keywordflow">return</span> self</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        <span class="keywordflow">return</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a2090eb6190ccbefd5caae00a26160a99">_prev</a>.first</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;</div><div class="line"><a name="l00473"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1Runner.html#a3e2ab45db4f50b60d15f32c2549b11fe">  473</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1Runner.html#a3e2ab45db4f50b60d15f32c2549b11fe">remove_prerun</a>(self):</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Removes all prerun objects.</span></div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;<span class="stringliteral">        @see prerun()</span></div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;<span class="stringliteral">        @return self&quot;&quot;&quot;</span></div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#ac855a196e05cb7d73679673515a09d1d">_prerun</a>: self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#ac855a196e05cb7d73679673515a09d1d">_prerun</a>=list()</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        <span class="keywordflow">return</span> self</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="keyword">def </span>__prerun_to_shell(self):</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Internal implementation function - do not use.</span></div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="stringliteral">        Applies all prerun objects using their to_shell functions, and</span></div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;<span class="stringliteral">        then clears the prerun list&quot;&quot;&quot;</span></div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        texts=list()</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        <span class="keywordflow">for</span> prerun <span class="keywordflow">in</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#ac855a196e05cb7d73679673515a09d1d">_prerun</a>:</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;            assert(prerun)</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;            ( text, runner ) = prerun.to_shell(self)</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;            texts.append(text)</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#ac855a196e05cb7d73679673515a09d1d">_prerun</a>=list()</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&#39;&#39;</span>.join(texts)</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;</div><div class="line"><a name="l00493"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1Runner.html#aac50c9d8989fcb650bb4dfd80acc7bfc">  493</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1Runner.html#aac50c9d8989fcb650bb4dfd80acc7bfc">prerun</a>(self,arg):</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Adds a function or callable object to be called before</span></div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;<span class="stringliteral">        running the program.  </span></div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="stringliteral">        The callables should be very fast operations, and are executed</span></div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="stringliteral">        by self._gen when creating the Pipeline.  They take, as an</span></div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;<span class="stringliteral">        argument, the Runner and an optional &quot;logger&quot; keyword argument</span></div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;<span class="stringliteral">        that is either None, or a logging.Logger to use to log</span></div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;<span class="stringliteral">        messages.</span></div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;<span class="stringliteral">        @param arg a callable object that takes self as an argument, and</span></div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;<span class="stringliteral">        an optional keyword argument &quot;logger&quot; with a logging.Logger for</span></div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;<span class="stringliteral">        log messages&quot;&quot;&quot;</span></div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#ac855a196e05cb7d73679673515a09d1d">_prerun</a> <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;            self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#ac855a196e05cb7d73679673515a09d1d">_prerun</a>=[arg]</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;            self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#ac855a196e05cb7d73679673515a09d1d">_prerun</a>.append(arg)</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        <span class="keywordflow">return</span> self</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="keyword">def </span>_stringify_arg(self,arg):</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Returns a string representation of the given argument to</span></div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;<span class="stringliteral">        convert it to an input to produtil.pipeline.Pipeline.</span></div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;<span class="stringliteral">        Conversions:</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;<span class="stringliteral">        * float --- converted via %g</span></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;<span class="stringliteral">        * int --- converted via %d</span></div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;<span class="stringliteral">        * str --- no conversion; used directly</span></div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;<span class="stringliteral">        * all others --- str(arg)</span></div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;<span class="stringliteral">        @param arg the argument to convert</span></div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;<span class="stringliteral">        @returns a string version of arg&quot;&quot;&quot;</span></div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        <span class="keywordflow">if</span> isinstance(arg,float):</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;            <span class="keywordflow">return</span> <span class="stringliteral">&#39;%g&#39;</span>%(arg,)</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        <span class="keywordflow">elif</span> isinstance(arg,int):</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;            <span class="keywordflow">return</span> <span class="stringliteral">&#39;%d&#39;</span>%(arg,)</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        <span class="keywordflow">elif</span> isinstance(arg,str):</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;            <span class="keywordflow">return</span> arg</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;            <span class="keywordflow">return</span> str(arg)</div><div class="line"><a name="l00528"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1Runner.html#afc4f254260c2be78afc59b0301b1641d">  528</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1Runner.html#afc4f254260c2be78afc59b0301b1641d">__getitem__</a>(self,args):</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Add one or more arguments to the executable.</span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;<span class="stringliteral">        Can ONLY accept strings, ints, floats or iterables (tuple,</span></div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;<span class="stringliteral">        list).  Strings, ints and floats are sent to _stringify_args,</span></div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;<span class="stringliteral">        and the result is added to the end of the list of arguments to</span></div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<span class="stringliteral">        the command to run.  For iterables (tuple, list), adds all</span></div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="stringliteral">        elements to the list of arguments, passing each through</span></div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;<span class="stringliteral">        _stringify_args.</span></div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;<span class="stringliteral">        @param args one or more arguments to add</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<span class="stringliteral">        @returns self&quot;&quot;&quot;</span></div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        <span class="keywordflow">if</span> isinstance(args,str) <span class="keywordflow">or</span> isinstance(args,float) \</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                <span class="keywordflow">or</span> isinstance(args,int):</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;            self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a2de5473ee7b9291147083c5530c9d1bd">_args</a>.append(self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a280d40693bc9acafbf69d0c8ee4679fa">_stringify_arg</a>(args))</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;            self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a2de5473ee7b9291147083c5530c9d1bd">_args</a>.extend([self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a280d40693bc9acafbf69d0c8ee4679fa">_stringify_arg</a>(x) <span class="keywordflow">for</span> x <span class="keywordflow">in</span> args])</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        <span class="keywordflow">return</span> self</div><div class="line"><a name="l00545"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1Runner.html#acd2b067234ccd898d6b71f228738ba8a">  545</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1Runner.html#acd2b067234ccd898d6b71f228738ba8a">__str__</a>(self): </div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Alias for __repr__()&quot;&quot;&quot;</span></div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        <span class="keywordflow">return</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a3eee391a77da8246c7ca063a1a6be334">__repr__</a>()</div><div class="line"><a name="l00548"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1Runner.html#a3eee391a77da8246c7ca063a1a6be334">  548</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1Runner.html#a3eee391a77da8246c7ca063a1a6be334">__repr__</a>(self):</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Attempts to produce valid Python code to represent this Runnable.</span></div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<span class="stringliteral">        Generally, that can be done, unless an input string is too</span></div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;<span class="stringliteral">        long, no executable name is present, or a stream is connected</span></div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;<span class="stringliteral">        to a Python object.  In those cases, human-readable</span></div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;<span class="stringliteral">        representations are given, which are not exactly Python</span></div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;<span class="stringliteral">        code.        &quot;&quot;&quot;</span></div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a2090eb6190ccbefd5caae00a26160a99">_prev</a> <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;            s=<span class="stringliteral">&#39;%s | &#39;</span>%(repr(self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a2090eb6190ccbefd5caae00a26160a99">_prev</a>),)</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;            s=<span class="stringliteral">&#39;&#39;</span></div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;        <span class="keywordflow">if</span> len(self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a2de5473ee7b9291147083c5530c9d1bd">_args</a>)==0:</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;            s+=<span class="stringliteral">&#39;batchexe(&lt;empty&gt;)&#39;</span></div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;            s+=<span class="stringliteral">&#39;batchexe(%s)&#39;</span>%(repr(self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a2de5473ee7b9291147083c5530c9d1bd">_args</a>[0]))</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        <span class="keywordflow">if</span> len(self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a2de5473ee7b9291147083c5530c9d1bd">_args</a>)&gt;1:</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;            s+=<span class="stringliteral">&#39;[&#39;</span>+<span class="stringliteral">&#39;,&#39;</span>.join([repr(x) <span class="keywordflow">for</span> x <span class="keywordflow">in</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a2de5473ee7b9291147083c5530c9d1bd">_args</a>[1:]])+<span class="stringliteral">&#39;]&#39;</span></div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a3c63617c363be18ad4a178da3adbc077">_stdin</a> <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;            s+=<span class="stringliteral">&#39;.in(%s)&#39;</span>%(self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a3c63617c363be18ad4a178da3adbc077">_stdin</a>.repr_for_in(),)</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a9900cc41690e8f1049549a6a02da20b5">_stdout</a> <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;            s+=<span class="stringliteral">&#39;.out(%s)&#39;</span>%(self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a9900cc41690e8f1049549a6a02da20b5">_stdout</a>.repr_for_out(),)</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a74b5f57151ae60ee95739ecce95d81cc">_stderr</a> <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;            <span class="keywordflow">if</span> isinstance(self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a74b5f57151ae60ee95739ecce95d81cc">_stderr</a>,OutIsError):</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;                s+=<span class="stringliteral">&#39;.err2out()&#39;</span></div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;            <span class="keywordflow">else</span>:</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;                s+=<span class="stringliteral">&#39;.err(%s)&#39;</span>%(self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a74b5f57151ae60ee95739ecce95d81cc">_stderr</a>.repr_for_err(),)</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a1b89d7669063ecd7daf3bb320bffb0f7">_copy_env</a>:</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;            s+=<span class="stringliteral">&#39;.clearenv()&#39;</span></div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#ad9455ea7f568522c46981c6a36374f56">_env</a> <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;            s+=<span class="stringliteral">&#39;.env(&#39;</span>+(<span class="stringliteral">&#39;, &#39;</span>.join([<span class="stringliteral">&#39;%s=%s&#39;</span>%(k,v) </div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                                   <span class="keywordflow">for</span> k,v <span class="keywordflow">in</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#ad9455ea7f568522c46981c6a36374f56">_env</a>.items()]))+<span class="stringliteral">&#39;)&#39;</span></div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#ac855a196e05cb7d73679673515a09d1d">_prerun</a> <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;            s+=<span class="stringliteral">&#39;&#39;</span>.join([<span class="stringliteral">&#39;.prerun(%s)&#39;</span>%(repr(x),) <span class="keywordflow">for</span> x <span class="keywordflow">in</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#ac855a196e05cb7d73679673515a09d1d">_prerun</a>])</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a743a774333449b2738070a9df7cd6aec">_cd</a> <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;            s+=<span class="stringliteral">&quot;.cd(&quot;</span>+repr(self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a743a774333449b2738070a9df7cd6aec">_cd</a>)+<span class="stringliteral">&quot;)&quot;</span></div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        <span class="keywordflow">return</span> s</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    </div><div class="line"><a name="l00585"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1Runner.html#abc86bdeeb68c4c5a44c3f3854e2d0e8b">  585</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1Runner.html#abc86bdeeb68c4c5a44c3f3854e2d0e8b">__eq__</a>(self,other):</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Returns True if the other object is a Runner that is equal</span></div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;<span class="stringliteral">        to this one, and False otherwise.</span></div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;<span class="stringliteral">        @param other the object to compare&quot;&quot;&quot;</span></div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        <span class="keywordflow">if</span> isinstance(other,Runner):</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;            <span class="keywordflow">return</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a2de5473ee7b9291147083c5530c9d1bd">_args</a>==other._args <span class="keywordflow">and</span> \</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a1b89d7669063ecd7daf3bb320bffb0f7">_copy_env</a>==other._copy_env <span class="keywordflow">and</span> \</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a3c63617c363be18ad4a178da3adbc077">_stdin</a>==other._stdin <span class="keywordflow">and</span> \</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a9900cc41690e8f1049549a6a02da20b5">_stdout</a>==other._stdout <span class="keywordflow">and</span> \</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a74b5f57151ae60ee95739ecce95d81cc">_stderr</a>==other._stderr <span class="keywordflow">and</span> \</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#ad9455ea7f568522c46981c6a36374f56">_env</a>==other._env <span class="keywordflow">and</span> \</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#ac855a196e05cb7d73679673515a09d1d">_prerun</a>==other._prerun</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;            <span class="keywordflow">return</span> NotImplemented</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;</div><div class="line"><a name="l00600"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1Runner.html#a603a5319fc359e348055e6e6dc2f04dd">  600</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1Runner.html#a603a5319fc359e348055e6e6dc2f04dd">isplainexe</a>(self):</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Returns true if this is simply an executable with arguments</span></div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;<span class="stringliteral">        (no redirection, no prerun objects, no environment</span></div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;<span class="stringliteral">        modification, no piping), and False otherwise.&quot;&quot;&quot;</span></div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        <span class="keywordflow">return</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a3c63617c363be18ad4a178da3adbc077">_stdin</a> <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a9900cc41690e8f1049549a6a02da20b5">_stdout</a> <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> \</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;            self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#ac855a196e05cb7d73679673515a09d1d">_prerun</a> <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a74b5f57151ae60ee95739ecce95d81cc">_stderr</a> <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> \</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;            self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#ad9455ea7f568522c46981c6a36374f56">_env</a> <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a2090eb6190ccbefd5caae00a26160a99">_prev</a> <span class="keywordflow">is</span> <span class="keywordtype">None</span></div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;</div><div class="line"><a name="l00608"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1Runner.html#a40e27d32a1743f1f0c0279305c00e064">  608</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1Runner.html#a40e27d32a1743f1f0c0279305c00e064">cd</a>(self,dirpath):</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Requests that this process run in the specified directory.</span></div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;<span class="stringliteral">        The directory must already exist before the program starts.</span></div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;<span class="stringliteral">        @param dirpath the directory to cd into, which must already exist.</span></div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;<span class="stringliteral">        @returns self&quot;&quot;&quot;</span></div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;        self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a743a774333449b2738070a9df7cd6aec">_cd</a>=dirpath</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        <span class="keywordflow">return</span> self</div><div class="line"><a name="l00615"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1Runner.html#af7ed6764b2978d67f6d1c743cf390b22">  615</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1Runner.html#af7ed6764b2978d67f6d1c743cf390b22">__lt__</a>(self,stdin):</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Connects the given object to stdin, via inp(stdin,string=False).</span></div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;<span class="stringliteral">        @param stdin the stdin object</span></div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;<span class="stringliteral">        @returns self&quot;&quot;&quot;</span></div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        <span class="keywordflow">return</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a08cd2c14ea2c3a6cee6f9d7e22fb5adb">inp</a>(stdin,string=<span class="keyword">False</span>)</div><div class="line"><a name="l00620"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1Runner.html#aefd5f48c376bb1c75829b395258d8c1c">  620</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1Runner.html#aefd5f48c376bb1c75829b395258d8c1c">__gt__</a>(self,stdout): </div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Connects the given object to stdout, truncating it if it is</span></div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;<span class="stringliteral">        a file.  Same as out(stdout,append=False).</span></div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;<span class="stringliteral">        @param stdout the stdout object</span></div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;<span class="stringliteral">        @returns self&quot;&quot;&quot;</span></div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        <span class="keywordflow">return</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a9566884cf3c9c448f78b8d9f0e1e875b">out</a>(stdout,append=<span class="keyword">False</span>)</div><div class="line"><a name="l00626"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1Runner.html#a0cd9577911d14e3d6166a87dc2bf162a">  626</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1Runner.html#a0cd9577911d14e3d6166a87dc2bf162a">__lshift__</a>(self,stdin): </div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Sends the specified string into stdin.  Same as</span></div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;<span class="stringliteral">        inp(stdin,string=True).</span></div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;<span class="stringliteral">        @param stdin the stdin file</span></div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;<span class="stringliteral">        @returns self&quot;&quot;&quot;</span></div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;        <span class="keywordflow">return</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a08cd2c14ea2c3a6cee6f9d7e22fb5adb">inp</a>(stdin,string=<span class="keyword">True</span>)</div><div class="line"><a name="l00632"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1Runner.html#a6eb0d60ae207ffe48b18a900c76c5cdd">  632</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1Runner.html#a6eb0d60ae207ffe48b18a900c76c5cdd">__rshift__</a>(self,stdout): </div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Appends stdout to the specified file.  Same as</span></div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;<span class="stringliteral">        out(stdout,append=True).</span></div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;<span class="stringliteral">        @param stdout the stdout file</span></div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;<span class="stringliteral">        @returns self&quot;&quot;&quot;</span></div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        <span class="keywordflow">return</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a9566884cf3c9c448f78b8d9f0e1e875b">out</a>(stdout,append=<span class="keyword">True</span>)</div><div class="line"><a name="l00638"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1Runner.html#af210853bf7a3e640c7a8ec8bf9d46d86">  638</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1Runner.html#af210853bf7a3e640c7a8ec8bf9d46d86">__pos__</a>(self): </div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Sends stderr to stdout.  Same as err2out().</span></div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;<span class="stringliteral">        @returns self&quot;&quot;&quot;</span></div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        <span class="keywordflow">return</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#af0096349fc353565e58907ba669beea4">err2out</a>()</div><div class="line"><a name="l00642"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1Runner.html#ac91858ce30e4f203019b663dcc618f6d">  642</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1Runner.html#ac91858ce30e4f203019b663dcc618f6d">__ge__</a>(self,outerr): </div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Redirects stderr and stdout to the specified file,</span></div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;<span class="stringliteral">        truncating it.  Same as err2out().out(filename,append=False)</span></div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;<span class="stringliteral">        @param outerr the stdout and stderr file</span></div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;<span class="stringliteral">        @returns self&quot;&quot;&quot;</span></div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        <span class="keywordflow">return</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#af0096349fc353565e58907ba669beea4">err2out</a>().<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a9566884cf3c9c448f78b8d9f0e1e875b">out</a>(outerr,append=<span class="keyword">False</span>)</div><div class="line"><a name="l00648"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1Runner.html#a0245853f0da1e9c040d7707a12ed0d8c">  648</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1Runner.html#a0245853f0da1e9c040d7707a12ed0d8c">__or__</a>(self,other): </div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Pipes this Runner to the other Runner.  Same as pipeto(other).</span></div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;<span class="stringliteral">        @returns other</span></div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;<span class="stringliteral">        @param other the other runner to pipe into&quot;&quot;&quot;</span></div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;        <span class="keywordflow">return</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a1d50ecf7ba6ea32a2529b9a8c8433978">pipeto</a>(other)</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;</div><div class="line"><a name="l00654"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1Runner.html#a53d161ca2b86623ae6249e78815b1257">  654</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1Runner.html#a53d161ca2b86623ae6249e78815b1257">argins</a>(self,index,arg):</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Inserts the specified argument before the given index.</span></div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;<span class="stringliteral">        This function is intended for internal use only.  It is used</span></div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;<span class="stringliteral">        to implement threading on Cray, where arguments relating to</span></div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;<span class="stringliteral">        threading have to be added after the Runner is generated.</span></div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;<span class="stringliteral">        @warning It is generally not safe to call this function</span></div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;<span class="stringliteral">        outside the produtil.mpi_impl subpackage since its modules may</span></div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;<span class="stringliteral">        generate completely different commands than you asked in order</span></div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;<span class="stringliteral">        to execute your requested programs.</span></div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;<span class="stringliteral">        @param arg a string argument to add</span></div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;<span class="stringliteral">        @param index the index to insert before</span></div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;<span class="stringliteral">        @note Index 0 is the executable, while later indices are</span></div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;<span class="stringliteral">        arguments.&quot;&quot;&quot;</span></div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a2de5473ee7b9291147083c5530c9d1bd">_args</a>.insert(index,arg)</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        <span class="keywordflow">return</span> self</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;</div><div class="line"><a name="l00673"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1Runner.html#a6a8167ce9eb05708e14281aa6b7cdcf6">  673</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1Runner.html#a6a8167ce9eb05708e14281aa6b7cdcf6">args</a>(self):</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Iterates over the executable and arguments of this command&quot;&quot;&quot;</span></div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        <span class="keywordflow">for</span> arg <span class="keywordflow">in</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a2de5473ee7b9291147083c5530c9d1bd">_args</a>:</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;            <span class="keywordflow">yield</span> arg</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;</div><div class="line"><a name="l00678"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1Runner.html#a02dd099ab2736868bd545872cc3a7a70">  678</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1Runner.html#a02dd099ab2736868bd545872cc3a7a70">copy</a>(self,typeobj=None):</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Returns a deep copy of this object, almost.  </span></div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;<span class="stringliteral">        If stdin, stdout or stderr are connected to streams instead of</span></div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;<span class="stringliteral">        files or strings, then the streams are not copied.  Instead,</span></div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;<span class="stringliteral">        the exact same stream objects are connected to the same unit</span></div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;<span class="stringliteral">        in the new Runner.</span></div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;<span class="stringliteral">        @param typeobj the type of the new object or None for Runner.</span></div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;<span class="stringliteral">          Do not set this unless you know what you&#39;re doing.</span></div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;<span class="stringliteral">        @returns the new object&quot;&quot;&quot;</span></div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        <span class="keywordflow">if</span> typeobj <span class="keywordflow">is</span> <span class="keywordtype">None</span>: typeobj=Runner</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        assert(typeobj <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>)</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;        r=typeobj(list(self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a2de5473ee7b9291147083c5530c9d1bd">_args</a>))</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;        r._copy_env=self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a1b89d7669063ecd7daf3bb320bffb0f7">_copy_env</a></div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a3c63617c363be18ad4a178da3adbc077">_stdin</a>  <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>: r._stdin =self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a3c63617c363be18ad4a178da3adbc077">_stdin</a> .<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a02dd099ab2736868bd545872cc3a7a70">copy</a>()</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a9900cc41690e8f1049549a6a02da20b5">_stdout</a> <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>: r._stdout=self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a9900cc41690e8f1049549a6a02da20b5">_stdout</a>.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a02dd099ab2736868bd545872cc3a7a70">copy</a>()</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a74b5f57151ae60ee95739ecce95d81cc">_stderr</a> <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>: r._stderr=self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a74b5f57151ae60ee95739ecce95d81cc">_stderr</a>.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a02dd099ab2736868bd545872cc3a7a70">copy</a>()</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#ad9455ea7f568522c46981c6a36374f56">_env</a> <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>: r._env=dict(self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#ad9455ea7f568522c46981c6a36374f56">_env</a>)</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a2090eb6190ccbefd5caae00a26160a99">_prev</a> <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>: r._prev=self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a2090eb6190ccbefd5caae00a26160a99">_prev</a>.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a02dd099ab2736868bd545872cc3a7a70">copy</a>()</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#ac855a196e05cb7d73679673515a09d1d">_prerun</a> <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;            r._prerun=list()</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;            <span class="keywordflow">for</span> p <span class="keywordflow">in</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#ac855a196e05cb7d73679673515a09d1d">_prerun</a>:</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;                r._prerun.append(p)</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;        assert(r <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>)</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        assert(isinstance(r,typeobj))</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        <span class="keywordflow">return</span> r</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;</div><div class="line"><a name="l00705"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1Runner.html#a6cf8e37447ec3eee84e186d9939738a4">  705</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1Runner.html#a6cf8e37447ec3eee84e186d9939738a4">copyenv</a>(self):</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Instructs this command to duplicate the parent process</span></div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;<span class="stringliteral">        environment (the default).</span></div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;<span class="stringliteral">        @returns self&quot;&quot;&quot;</span></div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;        self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a1b89d7669063ecd7daf3bb320bffb0f7">_copy_env</a>=<span class="keyword">True</span></div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;        <span class="keywordflow">return</span> self</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;</div><div class="line"><a name="l00712"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1Runner.html#a6989288ed805ea45f4bf2dedb2e1b64f">  712</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1Runner.html#a6989288ed805ea45f4bf2dedb2e1b64f">clearenv</a>(self):</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Instructs this command to start with an empty environment</span></div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;<span class="stringliteral">        except for certain critical variables without which most</span></div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;<span class="stringliteral">        programs cannot run.  (Retains PATH, USER, LOGNAME and HOME.)</span></div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;<span class="stringliteral">        @returns self&quot;&quot;&quot;</span></div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a1b89d7669063ecd7daf3bb320bffb0f7">_copy_env</a>=<span class="keyword">False</span></div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;        self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#ad9455ea7f568522c46981c6a36374f56">_env</a>={}</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;        <span class="keywordflow">return</span> self</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <span class="keyword">def </span>_impl_make_env(self):</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!This internal function generates information about the</span></div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;<span class="stringliteral">        environment variables to be input to this process.  If the</span></div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;<span class="stringliteral">        parent environment is to be passed unmodified, None is</span></div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;<span class="stringliteral">        returned.  Otherwise, this routine returns dict of environment</span></div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;<span class="stringliteral">        variables calculated from os.environ and internal settings.</span></div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;<span class="stringliteral">        @returns the new environment dict&quot;&quot;&quot;</span></div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#ad9455ea7f568522c46981c6a36374f56">_env</a> <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a1b89d7669063ecd7daf3bb320bffb0f7">_copy_env</a>:</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;            <span class="keywordflow">return</span> <span class="keywordtype">None</span> <span class="comment"># copy parent process environment verbatim</span></div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        env={}</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a1b89d7669063ecd7daf3bb320bffb0f7">_copy_env</a>:</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;            env=dict(os.environ)</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;            env={}</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;            <span class="keywordflow">for</span> key <span class="keywordflow">in</span> (<span class="stringliteral">&#39;PATH&#39;</span>,<span class="stringliteral">&#39;USER&#39;</span>,<span class="stringliteral">&#39;LOGNAME&#39;</span>,<span class="stringliteral">&#39;HOME&#39;</span>):</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;                <span class="keywordflow">if</span> key <span class="keywordflow">in</span> os.environ:</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;                    env[key]=os.environ[key]</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#ad9455ea7f568522c46981c6a36374f56">_env</a> <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;            <span class="keywordflow">for</span> key <span class="keywordflow">in</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#ad9455ea7f568522c46981c6a36374f56">_env</a>:</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;                env[key]=self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#ad9455ea7f568522c46981c6a36374f56">_env</a>[key]</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;        <span class="keywordflow">return</span> env</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <span class="keyword">def </span>getenv(self,arg):</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#ad9455ea7f568522c46981c6a36374f56">_env</a> <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;            <span class="keywordflow">raise</span> KeyError(arg)</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;        <span class="keywordflow">return</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#ad9455ea7f568522c46981c6a36374f56">_env</a>[arg]</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;</div><div class="line"><a name="l00749"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1Runner.html#a21c7e161111a65d92bd92db7f2b2ef52">  749</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1Runner.html#a21c7e161111a65d92bd92db7f2b2ef52">env</a>(self,**kwargs):</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Sets environment variables for this Runner.  The variables</span></div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;<span class="stringliteral">        should be specified as keyword arguments.</span></div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;<span class="stringliteral">        @param kwargs varname=value arguments</span></div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;<span class="stringliteral">        @returns self&quot;&quot;&quot;</span></div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#ad9455ea7f568522c46981c6a36374f56">_env</a> <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;            self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#ad9455ea7f568522c46981c6a36374f56">_env</a>={}</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;        <span class="keywordflow">for</span> key <span class="keywordflow">in</span> kwargs:</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;            self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#ad9455ea7f568522c46981c6a36374f56">_env</a>[str(key)]=str(kwargs[key])</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;        <span class="keywordflow">return</span> self</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;</div><div class="line"><a name="l00760"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1Runner.html#ac70abb742c4f1ca735a0260cc26afe61">  760</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1Runner.html#ac70abb742c4f1ca735a0260cc26afe61">to_shell</a>(self):</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Returns a string that expresses this object as a POSIX sh</span></div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;<span class="stringliteral">        shell command if possible, or raises a subclass of</span></div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;<span class="stringliteral">        NotValidPosixSh if not.&quot;&quot;&quot;</span></div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#ac855a196e05cb7d73679673515a09d1d">_prerun</a>:</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;            <span class="keywordflow">for</span> prerun <span class="keywordflow">in</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#ac855a196e05cb7d73679673515a09d1d">_prerun</a>:</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;                <span class="keywordflow">if</span> <span class="keywordflow">not</span> hasattr(prerun,<span class="stringliteral">&#39;to_shell&#39;</span>):</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;                    <span class="keywordflow">raise</span> <a class="code" href="classprodutil_1_1prog_1_1PrerunNotValidPosixSh.html">PrerunNotValidPosixSh</a>(</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;                        <span class="stringliteral">&#39;%s: has a prerun object that cannot be expressed &#39;</span></div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;                        <span class="stringliteral">&#39;as posix sh&#39;</span>%(self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a2de5473ee7b9291147083c5530c9d1bd">_args</a>[0],))</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;            no_prerun=self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a02dd099ab2736868bd545872cc3a7a70">copy</a>()</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;            text=no_prerun.__prerun_to_shell()</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;            text+=no_prerun.to_shell()</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;            <span class="keywordflow">return</span> text</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a2090eb6190ccbefd5caae00a26160a99">_prev</a> <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;            s=self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a2090eb6190ccbefd5caae00a26160a99">_prev</a>.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#ac70abb742c4f1ca735a0260cc26afe61">to_shell</a>()+<span class="stringliteral">&#39; | &#39;</span></div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;        <span class="keywordflow">elif</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a3c63617c363be18ad4a178da3adbc077">_stdin</a> <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;            s=self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a3c63617c363be18ad4a178da3adbc077">_stdin</a>.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#ac70abb742c4f1ca735a0260cc26afe61">to_shell</a>()</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;            s=<span class="stringliteral">&#39;&#39;</span></div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a743a774333449b2738070a9df7cd6aec">_cd</a> <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;            s+=<span class="stringliteral">&quot;( set -e ; cd &quot;</span>+<a class="code" href="namespaceprodutil_1_1prog.html#a66ee3b3e6606f964ddd99710fb5b58f6">shbackslash</a>(self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a743a774333449b2738070a9df7cd6aec">_cd</a>)+<span class="stringliteral">&quot; ; exec &quot;</span></div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#ad9455ea7f568522c46981c6a36374f56">_env</a> <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">or</span> <span class="keywordflow">not</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a1b89d7669063ecd7daf3bb320bffb0f7">_copy_env</a>:</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;            if(re.search(<span class="stringliteral">&#39;=&#39;</span>,self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a2de5473ee7b9291147083c5530c9d1bd">_args</a>[0])):</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;                <span class="keywordflow">raise</span> <a class="code" href="classprodutil_1_1prog_1_1EqualInExecutable.html">EqualInExecutable</a>(</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;                    <span class="stringliteral">&#39;%s: cannot have an &quot;=&quot; in the executable name when &#39;</span></div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;                    <span class="stringliteral">&#39;modifying the environment.&#39;</span>%(self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a2de5473ee7b9291147083c5530c9d1bd">_args</a>[0],))</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;            s+=<span class="stringliteral">&#39;env&#39;</span></div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;            <span class="keywordflow">if</span> <span class="keywordflow">not</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a1b89d7669063ecd7daf3bb320bffb0f7">_copy_env</a>:</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;                s+=<span class="stringliteral">&#39; -i&#39;</span></div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;            <span class="keywordflow">for</span> key <span class="keywordflow">in</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#ad9455ea7f568522c46981c6a36374f56">_env</a>:</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;                if(re.search(<span class="stringliteral">&#39;=&#39;</span>,key)):</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;                    <span class="keywordflow">raise</span> <a class="code" href="classprodutil_1_1prog_1_1EqualInEnv.html">EqualInEnv</a>(<span class="stringliteral">&#39;%s: variable name contains an &quot;=&quot;&#39;</span></div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;                                     %(key,))</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;                s+=<span class="stringliteral">&#39; &#39;</span>+<a class="code" href="namespaceprodutil_1_1prog.html#a66ee3b3e6606f964ddd99710fb5b58f6">shbackslash</a>(<span class="stringliteral">&quot;%s=%s&quot;</span>%(key,self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#ad9455ea7f568522c46981c6a36374f56">_env</a>[key]))</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;            <span class="keywordflow">if</span> <span class="keywordflow">not</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a1b89d7669063ecd7daf3bb320bffb0f7">_copy_env</a>:</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;                <span class="keywordflow">for</span> key <span class="keywordflow">in</span> (<span class="stringliteral">&#39;PATH&#39;</span>,<span class="stringliteral">&#39;USER&#39;</span>,<span class="stringliteral">&#39;LOGNAME&#39;</span>,<span class="stringliteral">&#39;HOME&#39;</span>):</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;                    <span class="keywordflow">if</span> <span class="keywordflow">not</span> key <span class="keywordflow">in</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#ad9455ea7f568522c46981c6a36374f56">_env</a>:</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;                        s+=<span class="stringliteral">&#39; &quot;%s=$%s&quot;&#39;</span>%(key,key)</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;            s+=<span class="stringliteral">&#39; &#39;</span></div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;        s+=<span class="stringliteral">&#39; &#39;</span>.join([<a class="code" href="namespaceprodutil_1_1prog.html#a66ee3b3e6606f964ddd99710fb5b58f6">shbackslash</a>(x) <span class="keywordflow">for</span> x <span class="keywordflow">in</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a2de5473ee7b9291147083c5530c9d1bd">_args</a>])</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a9900cc41690e8f1049549a6a02da20b5">_stdout</a> <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>: s+=<span class="stringliteral">&#39; &#39;</span>+self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a9900cc41690e8f1049549a6a02da20b5">_stdout</a>.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#ac70abb742c4f1ca735a0260cc26afe61">to_shell</a>()</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a74b5f57151ae60ee95739ecce95d81cc">_stderr</a> <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>: s+=<span class="stringliteral">&#39; &#39;</span>+self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a74b5f57151ae60ee95739ecce95d81cc">_stderr</a>.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#ac70abb742c4f1ca735a0260cc26afe61">to_shell</a>()</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a743a774333449b2738070a9df7cd6aec">_cd</a> <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;            s+=<span class="stringliteral">&quot; )&quot;</span></div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;        <span class="keywordflow">return</span> s</div><div class="line"><a name="l00808"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1Runner.html#ad3477b77e57a532d3a689d2589b7f8cb">  808</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1Runner.html#ad3477b77e57a532d3a689d2589b7f8cb">runner</a>(self):</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Returns self if self is modifiable, otherwise returns a</span></div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;<span class="stringliteral">        modifiable copy of self.  This is intended to be used to</span></div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;<span class="stringliteral">        implement unmodifiable subclasses of Runner</span></div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;<span class="stringliteral">        @returns self&quot;&quot;&quot;</span></div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;        <span class="keywordflow">return</span> self</div><div class="line"><a name="l00814"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1Runner.html#a1d50ecf7ba6ea32a2529b9a8c8433978">  814</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1Runner.html#a1d50ecf7ba6ea32a2529b9a8c8433978">pipeto</a>(self,other):</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Specifies that this Runner will send its stdout to the</span></div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;<span class="stringliteral">        other runner&#39;s stdin.  This will raise MultipleStdout if this</span></div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;<span class="stringliteral">        Runner&#39;s stdout target is already specified, or MultipleStdin</span></div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;<span class="stringliteral">        if the other&#39;s stdin is already specified.</span></div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;<span class="stringliteral">        @param other the runner to pipe into</span></div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;<span class="stringliteral">        @returns other&quot;&quot;&quot;</span></div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(other,Runner):</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;            <span class="keywordflow">raise</span> <a class="code" href="classprodutil_1_1prog_1_1InvalidPipeline.html">InvalidPipeline</a>(</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;                <span class="stringliteral">&#39;Attempting to pipe a Runner into something that is not &#39;</span></div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;                <span class="stringliteral">&#39;a Runner (likely a syntax error).&#39;</span>)</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;        <span class="keywordflow">if</span> other._prev <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;            <span class="keywordflow">raise</span> <a class="code" href="classprodutil_1_1prog_1_1MultipleStdin.html">MultipleStdin</a>(<span class="stringliteral">&#39;Attempted to pipe more than one process &#39;</span></div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;                                <span class="stringliteral">&#39;into stdin of the same process&#39;</span>)</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a9900cc41690e8f1049549a6a02da20b5">_stdout</a> <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;            <span class="keywordflow">raise</span> <a class="code" href="classprodutil_1_1prog_1_1MultipleStdout.html">MultipleStdout</a>(<span class="stringliteral">&#39;More than one stdout is detected in &#39;</span></div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;                                 <span class="stringliteral">&#39;prog|prog&#39;</span>)</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;        <span class="keywordflow">if</span> other._stdin <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a3c63617c363be18ad4a178da3adbc077">_stdin</a> <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;            <span class="keywordflow">raise</span> <a class="code" href="classprodutil_1_1prog_1_1MultipleStdin.html">MultipleStdin</a>(<span class="stringliteral">&#39;More than one stdin is detected in &#39;</span></div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;                                <span class="stringliteral">&#39;prog|prog&#39;</span>)</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;        <span class="comment"># Get a modifiable copy of the other Runner and pipe to it:</span></div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;        rother=other.runner()</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;        rother._prev=self</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;        <span class="keywordflow">if</span> rother._stdin <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;            self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a08cd2c14ea2c3a6cee6f9d7e22fb5adb">inp</a>(rother._stdin)</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;            rother._stdin=<span class="keywordtype">None</span></div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;        <span class="comment"># Return the other object since it is later in the pipeline</span></div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;        <span class="comment"># (this is needed for syntactic reasons):</span></div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;        <span class="keywordflow">return</span> rother</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;</div><div class="line"><a name="l00846"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1Runner.html#a08cd2c14ea2c3a6cee6f9d7e22fb5adb">  846</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1Runner.html#a08cd2c14ea2c3a6cee6f9d7e22fb5adb">inp</a>(self,stdin,string=False):</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Specifies that the first Runner in this pipeline takes</span></div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;<span class="stringliteral">        input from the given file or string specified by stdin.  If</span></div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;<span class="stringliteral">        string=True, then stdin is converted to a string via str(),</span></div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;<span class="stringliteral">        otherwise it must be a filename or a stream.  Raises</span></div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;<span class="stringliteral">        MultipleStdin if the stdin source is already specified.</span></div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;<span class="stringliteral">        @param stdin the input file or string</span></div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;<span class="stringliteral">        @param string if True, stdin is a string.  Otherwise, it is a file.</span></div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;<span class="stringliteral">        @returns self&quot;&quot;&quot;</span></div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a2090eb6190ccbefd5caae00a26160a99">_prev</a> <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;            self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a2090eb6190ccbefd5caae00a26160a99">_prev</a>.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a08cd2c14ea2c3a6cee6f9d7e22fb5adb">inp</a>(stdin,string)</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;            <span class="keywordflow">return</span> self</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;        <span class="comment"># ---- to get past here, we have to be the beginning of the pipeline ----</span></div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a3c63617c363be18ad4a178da3adbc077">_stdin</a> <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;            <span class="keywordflow">raise</span> <a class="code" href="classprodutil_1_1prog_1_1MultipleStdin.html">MultipleStdin</a>(<span class="stringliteral">&#39;More than one stdin detected in Runner.inp&#39;</span>)</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;        <span class="keywordflow">if</span> isinstance(stdin,StringInput) <span class="keywordflow">or</span> isinstance(stdin,FileOpener) <span class="keywordflow">or</span>\</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;                isinstance(stdin,StreamReuser):</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;            self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a3c63617c363be18ad4a178da3adbc077">_stdin</a>=stdin</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;        elif(string):</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;            self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a3c63617c363be18ad4a178da3adbc077">_stdin</a>=<a class="code" href="classprodutil_1_1prog_1_1StringInput.html">StringInput</a>(str(stdin))</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;            <span class="keywordflow">if</span> isinstance(stdin,str):</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;                self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a3c63617c363be18ad4a178da3adbc077">_stdin</a>=<a class="code" href="classprodutil_1_1prog_1_1FileOpener.html">FileOpener</a>(str(stdin),<span class="stringliteral">&#39;rb&#39;</span>)</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;            <span class="keywordflow">else</span>:</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;                self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a3c63617c363be18ad4a178da3adbc077">_stdin</a>=<a class="code" href="classprodutil_1_1prog_1_1StreamReuser.html">StreamReuser</a>(stdin)</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;        <span class="keywordflow">return</span> self</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;</div><div class="line"><a name="l00873"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1Runner.html#a9566884cf3c9c448f78b8d9f0e1e875b">  873</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1Runner.html#a9566884cf3c9c448f78b8d9f0e1e875b">out</a>(self,stdout,append=False):</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Specifies that this process sends output from its stdout</span></div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;<span class="stringliteral">        stream to the given file or stream.  The stdout object must be</span></div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;<span class="stringliteral">        a string filename, or a stream.  If append=False, and the</span></div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;<span class="stringliteral">        stdout is a filename, the file will be truncated, if</span></div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;<span class="stringliteral">        append=True then it is appended.  Raises MultipleStdout if the</span></div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;<span class="stringliteral">        stdout location is already specified</span></div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;<span class="stringliteral">        @param stdout the stdout file</span></div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;<span class="stringliteral">        @param append if True, append to the file, otherwise truncate</span></div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;<span class="stringliteral">        @returns self&quot;&quot;&quot;</span></div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a9900cc41690e8f1049549a6a02da20b5">_stdout</a> <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;            <span class="keywordflow">raise</span> <a class="code" href="classprodutil_1_1prog_1_1MultipleStdout.html">MultipleStdout</a>(<span class="stringliteral">&#39;More than one stdout detected in call &#39;</span></div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;                                 <span class="stringliteral">&#39;to Runner.out&#39;</span>)</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;        <span class="keywordflow">if</span> isinstance(stdout,str):</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;            <span class="keywordflow">if</span> append:</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;                self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a9900cc41690e8f1049549a6a02da20b5">_stdout</a>=<a class="code" href="classprodutil_1_1prog_1_1FileOpener.html">FileOpener</a>(str(stdout),<span class="stringliteral">&#39;ab&#39;</span>)</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;            <span class="keywordflow">else</span>:</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;                self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a9900cc41690e8f1049549a6a02da20b5">_stdout</a>=<a class="code" href="classprodutil_1_1prog_1_1FileOpener.html">FileOpener</a>(str(stdout),<span class="stringliteral">&#39;wb&#39;</span>)</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;            self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a9900cc41690e8f1049549a6a02da20b5">_stdout</a>=<a class="code" href="classprodutil_1_1prog_1_1StreamReuser.html">StreamReuser</a>(stdout)</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;        <span class="keywordflow">return</span> self</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;</div><div class="line"><a name="l00895"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1Runner.html#af0096349fc353565e58907ba669beea4">  895</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1Runner.html#af0096349fc353565e58907ba669beea4">err2out</a>(self):</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Sends stderr to stdout</span></div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;<span class="stringliteral">        @returns self&quot;&quot;&quot;</span></div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a74b5f57151ae60ee95739ecce95d81cc">_stderr</a> <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;            <span class="keywordflow">raise</span> <a class="code" href="classprodutil_1_1prog_1_1MultipleStderr.html">MultipleStderr</a>(</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;                <span class="stringliteral">&#39;More than one stderr detected in call to Runner.err&#39;</span>)</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;        self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a74b5f57151ae60ee95739ecce95d81cc">_stderr</a>=<a class="code" href="classprodutil_1_1prog_1_1OutIsError.html">OutIsError</a>()</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;        <span class="keywordflow">return</span> self</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;</div><div class="line"><a name="l00904"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1Runner.html#af134c2ee61da336b4feb0f12744abaf7">  904</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1Runner.html#af134c2ee61da336b4feb0f12744abaf7">err</a>(self,stderr,append=False):</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Specifies that this process sends output from its stderr</span></div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;<span class="stringliteral">        stream to the given file or stream.  The stderr object must be</span></div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;<span class="stringliteral">        a string filename, or a stream.  If append=False, and the</span></div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;<span class="stringliteral">        stderr is a filename, the file will be truncated, if</span></div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;<span class="stringliteral">        append=True then it is appended.  Raises MultipleStderr if the</span></div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;<span class="stringliteral">        stderr location is already specified.</span></div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;<span class="stringliteral">        @param stderr the stderr output file</span></div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;<span class="stringliteral">        @param append if True, append to the file otherwise truncate</span></div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;<span class="stringliteral">        @returns self&quot;&quot;&quot;</span></div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a74b5f57151ae60ee95739ecce95d81cc">_stderr</a> <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;            <span class="keywordflow">raise</span> <a class="code" href="classprodutil_1_1prog_1_1MultipleStderr.html">MultipleStderr</a>(</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;                <span class="stringliteral">&#39;More than one stderr detected in call to Runner.err&#39;</span>)</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;        <span class="keywordflow">if</span> isinstance(stderr,str):</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;            <span class="keywordflow">if</span> append:</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;                self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a74b5f57151ae60ee95739ecce95d81cc">_stderr</a>=<a class="code" href="classprodutil_1_1prog_1_1FileOpener.html">FileOpener</a>(str(stderr),<span class="stringliteral">&#39;ab&#39;</span>,<span class="keyword">True</span>)</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;            <span class="keywordflow">else</span>:</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;                self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a74b5f57151ae60ee95739ecce95d81cc">_stderr</a>=<a class="code" href="classprodutil_1_1prog_1_1FileOpener.html">FileOpener</a>(str(stderr),<span class="stringliteral">&#39;wb&#39;</span>,<span class="keyword">True</span>)</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;            self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a74b5f57151ae60ee95739ecce95d81cc">_stderr</a>=<a class="code" href="classprodutil_1_1prog_1_1StreamReuser.html">StreamReuser</a>(stderr)</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;        <span class="keywordflow">return</span> self</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    <span class="keyword">def </span>_gen(self,pipeline,logger=None,next=None):</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Populates a Pipeline object with information from this</span></div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;<span class="stringliteral">        Runner.  This is a recursive function that starts at the last</span></div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;<span class="stringliteral">        element of the pipeline (output element) and walks back to the</span></div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;<span class="stringliteral">        first (input element).  The &quot;next&quot; parameter points to the</span></div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;<span class="stringliteral">        next (output-direction) element of the pipeline.  The optional</span></div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;<span class="stringliteral">        logger parameter is where to send log messages.</span></div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;<span class="stringliteral">        @param[out] pipeline the produtil.pipeline.Pipeline</span></div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;<span class="stringliteral">        @param logger a logging.Logger for log messages</span></div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;<span class="stringliteral">        @param next the next Runner in the pipeline&quot;&quot;&quot;</span></div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a2090eb6190ccbefd5caae00a26160a99">_prev</a> <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;            self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a2090eb6190ccbefd5caae00a26160a99">_prev</a>._gen(pipeline,logger=logger,next=self)</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;        <span class="keywordflow">elif</span> logger <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;            logger.debug(<span class="stringliteral">&#39;GEN %s: recurse to %s&#39;</span>%(</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;                    repr(self),repr(self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a2090eb6190ccbefd5caae00a26160a99">_prev</a>)))</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#ac855a196e05cb7d73679673515a09d1d">_prerun</a> <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;            <span class="keywordflow">for</span> prerun <span class="keywordflow">in</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#ac855a196e05cb7d73679673515a09d1d">_prerun</a>:</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;                <a class="code" href="classprodutil_1_1prog_1_1Runner.html#aac50c9d8989fcb650bb4dfd80acc7bfc">prerun</a>(self,logger=logger)</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;        <span class="keywordflow">if</span> logger <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;            logger.debug(<span class="stringliteral">&#39;GEN %s: gen to %s with cmd=%s&#39;</span>%(</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;                    repr(self),repr(pipeline),str(self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a2de5473ee7b9291147083c5530c9d1bd">_args</a>[0])))</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;        kwargs={}</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a3c63617c363be18ad4a178da3adbc077">_stdin</a> <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;            (string,stream,send,close)=self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a3c63617c363be18ad4a178da3adbc077">_stdin</a>._gen_stream()</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;            <span class="keywordflow">if</span> string <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>: kwargs[<span class="stringliteral">&#39;instring&#39;</span>]=string</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;            <span class="keywordflow">if</span> stream <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>: kwargs[<span class="stringliteral">&#39;stdin&#39;</span>]=stream</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;            <span class="keywordflow">if</span> send <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>: kwargs[<span class="stringliteral">&#39;sendin&#39;</span>]=send</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;            <span class="keywordflow">if</span> close <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>: kwargs[<span class="stringliteral">&#39;closein&#39;</span>]=close</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a9900cc41690e8f1049549a6a02da20b5">_stdout</a> <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;            (string,stream,send,close)=self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a9900cc41690e8f1049549a6a02da20b5">_stdout</a>._gen_stream()</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;            assert(string <span class="keywordflow">is</span> <span class="keywordtype">None</span>)</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;            <span class="keywordflow">if</span> stream <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>: kwargs[<span class="stringliteral">&#39;stdout&#39;</span>]=stream</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;            <span class="keywordflow">if</span> send <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>: kwargs[<span class="stringliteral">&#39;sendout&#39;</span>]=send</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;            <span class="keywordflow">if</span> close <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>: kwargs[<span class="stringliteral">&#39;closeout&#39;</span>]=close</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a74b5f57151ae60ee95739ecce95d81cc">_stderr</a> <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;            (string,stream,send,close)=self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a74b5f57151ae60ee95739ecce95d81cc">_stderr</a>._gen_stream()</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;            assert(string <span class="keywordflow">is</span> <span class="keywordtype">None</span>)</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;            <span class="keywordflow">if</span> stream <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>: kwargs[<span class="stringliteral">&#39;stderr&#39;</span>]=stream</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;            <span class="keywordflow">if</span> send <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>: kwargs[<span class="stringliteral">&#39;senderr&#39;</span>]=send</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;            <span class="keywordflow">if</span> close <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>: kwargs[<span class="stringliteral">&#39;closeerr&#39;</span>]=close</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#ad9455ea7f568522c46981c6a36374f56">_env</a> <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;            kwargs[<span class="stringliteral">&#39;env&#39;</span>]=self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a27d30d4bfc99675e17517265567bb349">_impl_make_env</a>()</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;        <span class="keywordflow">if</span> logger <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;            kwargs[<span class="stringliteral">&#39;logger&#39;</span>]=logger</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;        pipeline._impl_add(self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a2de5473ee7b9291147083c5530c9d1bd">_args</a>,(next <span class="keywordflow">is</span> <span class="keywordtype">None</span>),cd=self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a743a774333449b2738070a9df7cd6aec">_cd</a>,**kwargs)</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;<span class="comment">########################################################################</span></div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;</div><div class="line"><a name="l00977"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1ImmutableRunner.html">  977</a></span>&#160;<span class="keyword">class </span><a class="code" href="classprodutil_1_1prog_1_1ImmutableRunner.html">ImmutableRunner</a>(<a class="code" href="classprodutil_1_1prog_1_1Runner.html">Runner</a>):</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    <span class="stringliteral">&quot;&quot;&quot;!An copy-on-write version of Runner.</span></div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;<span class="stringliteral">    This subclass of Runner is unmodifiable.  It is meant to be used</span></div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;<span class="stringliteral">    for re-usable exe()-like objects.  For example, if one wants an</span></div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;<span class="stringliteral">    object lsl that runs exe(&#39;ls&#39;)[&#39;-l&#39;] with optional extra</span></div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;<span class="stringliteral">    arguments, one could do:</span></div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;<span class="stringliteral">      lsl=ImmutableRunner(Runner(&#39;ls&#39;)[&#39;-l&#39;])</span></div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;<span class="stringliteral">    and then every time one does run(lsl[argument list]), it generates</span></div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;<span class="stringliteral">    a new object without modifying the original lsl, ensuring later</span></div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;<span class="stringliteral">    calls to lsl will have the same effect:</span></div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;<span class="stringliteral">      lsl[&#39;/&#39;]</span></div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;<span class="stringliteral">      lsl[&#39;~&#39;]</span></div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;<span class="stringliteral">      lsl[&#39;/&#39;]  # prints the same as the first</span></div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;<span class="stringliteral"></span></div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;<span class="stringliteral">    This is implemented by a copy-on-write method: if a modification</span></div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;<span class="stringliteral">    is requested, a Runner is returned with the requested</span></div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;<span class="stringliteral">    modifications.&quot;&quot;&quot;</span></div><div class="line"><a name="l00998"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1ImmutableRunner.html#a06ae61c05d6fcb93a7ea404d2d5dea50">  998</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1ImmutableRunner.html#a06ae61c05d6fcb93a7ea404d2d5dea50">__init__</a>(self,args,**kwargs):</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Creates a new ImmutableRunner.  All arguments to this</span></div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;<span class="stringliteral">        constructor have the same meanings as the Runner</span></div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;<span class="stringliteral">        constructor.</span></div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;<span class="stringliteral">        @param args,kwargs passed to Runner.__init__&quot;&quot;&quot;</span></div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;        <span class="keywordflow">try</span>:</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;            self.<a class="code" href="classprodutil_1_1prog_1_1ImmutableRunner.html#a22f1597521631f1b642466cde79165a7">_init</a>=<span class="keyword">True</span></div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;            Runner.__init__(self,args,**kwargs)</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;            <span class="keywordflow">if</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a2090eb6190ccbefd5caae00a26160a99">_prev</a> <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;                self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a2090eb6190ccbefd5caae00a26160a99">_prev</a>=<a class="code" href="classprodutil_1_1prog_1_1ImmutableRunner.html">ImmutableRunner</a>(self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a2090eb6190ccbefd5caae00a26160a99">_prev</a>)</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;        <span class="keywordflow">finally</span>:</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;            self.<a class="code" href="classprodutil_1_1prog_1_1ImmutableRunner.html#a22f1597521631f1b642466cde79165a7">_init</a>=<span class="keyword">False</span></div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;</div><div class="line"><a name="l01011"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1ImmutableRunner.html#a9b15c33c34164026d03fc808ec6be4af"> 1011</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1ImmutableRunner.html#a9b15c33c34164026d03fc808ec6be4af">remove_prerun</a>(self):</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Removes all prerun objects.</span></div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;<span class="stringliteral">        @see prerun()&quot;&quot;&quot;</span></div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;        <span class="keywordflow">return</span> self.<a class="code" href="classprodutil_1_1prog_1_1ImmutableRunner.html#a917c81228691dacdbd34af26da113575">_init_runner</a>().<a class="code" href="classprodutil_1_1prog_1_1ImmutableRunner.html#a9b15c33c34164026d03fc808ec6be4af">remove_prerun</a>()</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;</div><div class="line"><a name="l01016"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1ImmutableRunner.html#adb7d6d98d469331551045899eff04656"> 1016</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1ImmutableRunner.html#adb7d6d98d469331551045899eff04656">copy</a>(self,typeobj=None):</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Creates a deep copy of this runner, except if stream</span></div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;<span class="stringliteral">        objects are connected to stdin, stdout or stderr.  In that</span></div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;<span class="stringliteral">        case, those same stream objects are still connected.</span></div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;<span class="stringliteral">        @param typeobj the type of the output object.  Do not use</span></div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;<span class="stringliteral">          this unless you know what you&#39;re doing</span></div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;<span class="stringliteral">        @returns a copy of self&quot;&quot;&quot;</span></div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;        <span class="keywordflow">if</span> typeobj <span class="keywordflow">is</span> <span class="keywordtype">None</span>: typeobj=ImmutableRunner</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;        <span class="keywordflow">return</span> Runner.copy(self,typeobj)</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;</div><div class="line"><a name="l01026"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1ImmutableRunner.html#a85f5515d7c47ffbcb5319e8719b7da94"> 1026</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1ImmutableRunner.html#a85f5515d7c47ffbcb5319e8719b7da94">runner</a>(self):</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Returns a modifiable version of this object (as a Runner).&quot;&quot;&quot;</span></div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;        <span class="keywordflow">return</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#a02dd099ab2736868bd545872cc3a7a70">copy</a>(Runner)</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    <span class="keyword">def </span>_init_runner(self):</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Do not call this function: it is an internal implementation</span></div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;<span class="stringliteral">        function.  It returns self if self.__init__ is still being</span></div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;<span class="stringliteral">        run, otherwise it returns self.runner().&quot;&quot;&quot;</span></div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classprodutil_1_1prog_1_1ImmutableRunner.html#a22f1597521631f1b642466cde79165a7">_init</a>:</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;            x=self</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;        <span class="keywordflow">else</span>:</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;            x=self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#ad3477b77e57a532d3a689d2589b7f8cb">runner</a>()</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;        assert(x <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>)</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;        assert(isinstance(x,Runner))</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;        <span class="keywordflow">return</span> x</div><div class="line"><a name="l01040"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1ImmutableRunner.html#a4b3cbd3eb94770549379700c869ab677"> 1040</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1ImmutableRunner.html#a4b3cbd3eb94770549379700c869ab677">copyenv</a>(self):</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Creates a new Runner that is like self in all ways except</span></div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;<span class="stringliteral">        that it uses the parent process environment.</span></div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;<span class="stringliteral">        @returns the new Runner&quot;&quot;&quot;</span></div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;        <span class="keywordflow">return</span> self.<a class="code" href="classprodutil_1_1prog_1_1ImmutableRunner.html#a917c81228691dacdbd34af26da113575">_init_runner</a>().<a class="code" href="classprodutil_1_1prog_1_1ImmutableRunner.html#a4b3cbd3eb94770549379700c869ab677">copyenv</a>()</div><div class="line"><a name="l01045"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1ImmutableRunner.html#a8e479e7a81ae817c7a276c63544a3187"> 1045</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1ImmutableRunner.html#a8e479e7a81ae817c7a276c63544a3187">clearenv</a>(self): </div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Creates a new Runner which is like self in all ways except</span></div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;<span class="stringliteral">        that it uses an empty environment except for a few critical</span></div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;<span class="stringliteral">        variables without which most programs cannot run.  (Retains</span></div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;<span class="stringliteral">        PATH, USER, LOGNAME and HOME.)</span></div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;<span class="stringliteral">        @returns a new Runner&quot;&quot;&quot;</span></div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;        <span class="keywordflow">return</span> self.<a class="code" href="classprodutil_1_1prog_1_1ImmutableRunner.html#a917c81228691dacdbd34af26da113575">_init_runner</a>().<a class="code" href="classprodutil_1_1prog_1_1ImmutableRunner.html#a8e479e7a81ae817c7a276c63544a3187">clearenv</a>()</div><div class="line"><a name="l01052"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1ImmutableRunner.html#ae7d24a12413dbb67ed7e722adece07ff"> 1052</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1ImmutableRunner.html#ae7d24a12413dbb67ed7e722adece07ff">cd</a>(self,cd): </div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Returns a new Runner that is like self, except that it</span></div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;<span class="stringliteral">        cd&#39;s to the target directory before running.  The directory</span></div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;<span class="stringliteral">        must already exist before the program starts.</span></div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;<span class="stringliteral">        @param cd the directory to cd into, which must already exist.</span></div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;<span class="stringliteral">        @returns the new Runner&quot;&quot;&quot;</span></div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;        <span class="keywordflow">return</span> self.<a class="code" href="classprodutil_1_1prog_1_1ImmutableRunner.html#a917c81228691dacdbd34af26da113575">_init_runner</a>().<a class="code" href="classprodutil_1_1prog_1_1ImmutableRunner.html#ae7d24a12413dbb67ed7e722adece07ff">cd</a>(cd)</div><div class="line"><a name="l01059"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1ImmutableRunner.html#ab75e48ebe72615ad512bdeab6aac7da6"> 1059</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1ImmutableRunner.html#ab75e48ebe72615ad512bdeab6aac7da6">env</a>(self,**kwargs): </div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Returns a new Runner that is like self in all ways except</span></div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;<span class="stringliteral">        that the specified environment variables are set.</span></div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;<span class="stringliteral">        @param kwargs varname=value arguments of environment variables to set</span></div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;<span class="stringliteral">        @returns the new Runner&quot;&quot;&quot;</span></div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;        <span class="keywordflow">return</span> self.<a class="code" href="classprodutil_1_1prog_1_1ImmutableRunner.html#a917c81228691dacdbd34af26da113575">_init_runner</a>().<a class="code" href="classprodutil_1_1prog_1_1ImmutableRunner.html#ab75e48ebe72615ad512bdeab6aac7da6">env</a>(**kwargs)</div><div class="line"><a name="l01065"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1ImmutableRunner.html#aa3fd899ed339579016d131f28f6d6fd6"> 1065</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1ImmutableRunner.html#aa3fd899ed339579016d131f28f6d6fd6">pipeto</a>(self,other): </div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Returns a new Runner that is like self in all ways, except</span></div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;<span class="stringliteral">        that it has been piped into the other Runner.</span></div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;<span class="stringliteral">        @returns the new Runner</span></div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;<span class="stringliteral">        @param other the Runner to pipe into.&quot;&quot;&quot;</span></div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;        <span class="keywordflow">return</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#ad3477b77e57a532d3a689d2589b7f8cb">runner</a>().<a class="code" href="classprodutil_1_1prog_1_1ImmutableRunner.html#aa3fd899ed339579016d131f28f6d6fd6">pipeto</a>(other)</div><div class="line"><a name="l01071"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1ImmutableRunner.html#a41ec5dc3395ceb260225f618ad759b94"> 1071</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1ImmutableRunner.html#a41ec5dc3395ceb260225f618ad759b94">inp</a>(self,stdin,string=False): </div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Returns a new Runner that is like self in all ways except</span></div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;<span class="stringliteral">        that it has a different stdin</span></div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;<span class="stringliteral">        @param stdin the stdin string or filename</span></div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;<span class="stringliteral">        @param string if True, stdin is a string&quot;&quot;&quot;</span></div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;        <span class="keywordflow">return</span> self.<a class="code" href="classprodutil_1_1prog_1_1ImmutableRunner.html#a917c81228691dacdbd34af26da113575">_init_runner</a>().<a class="code" href="classprodutil_1_1prog_1_1ImmutableRunner.html#a41ec5dc3395ceb260225f618ad759b94">inp</a>(stdin,string)</div><div class="line"><a name="l01077"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1ImmutableRunner.html#abc53007d7444ac100b2b8770644dc643"> 1077</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1ImmutableRunner.html#abc53007d7444ac100b2b8770644dc643">out</a>(self,stdout,append=False):</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Returns a new Runner that is like self in all ways except</span></div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;<span class="stringliteral">        with a different stdout.</span></div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;<span class="stringliteral">        @param stdout the stdout filename</span></div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;<span class="stringliteral">        @param append if True, append to the file, otherwise truncate&quot;&quot;&quot;</span></div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;        <span class="keywordflow">return</span> self.<a class="code" href="classprodutil_1_1prog_1_1ImmutableRunner.html#a917c81228691dacdbd34af26da113575">_init_runner</a>().<a class="code" href="classprodutil_1_1prog_1_1ImmutableRunner.html#abc53007d7444ac100b2b8770644dc643">out</a>(stdout,append)</div><div class="line"><a name="l01083"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1ImmutableRunner.html#a105e0fc686125955ef52509acadbab26"> 1083</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1ImmutableRunner.html#a105e0fc686125955ef52509acadbab26">err</a>(self,stderr,append=False): </div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Returns a new Runner that is like self in all ways except</span></div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;<span class="stringliteral">        with a different stderr.</span></div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;<span class="stringliteral">        @param stderr the stderr filename</span></div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;<span class="stringliteral">        @param append if True, append to the file, otherwise truncate&quot;&quot;&quot;</span></div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;        <span class="keywordflow">return</span> self.<a class="code" href="classprodutil_1_1prog_1_1ImmutableRunner.html#a917c81228691dacdbd34af26da113575">_init_runner</a>().<a class="code" href="classprodutil_1_1prog_1_1ImmutableRunner.html#a105e0fc686125955ef52509acadbab26">err</a>(stderr,append)</div><div class="line"><a name="l01089"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1ImmutableRunner.html#a220e64fa8b4f4f40c8310053eeb1c90f"> 1089</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1ImmutableRunner.html#a220e64fa8b4f4f40c8310053eeb1c90f">err2out</a>(self): </div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Returns a new Runner that is like self in all ways except</span></div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;<span class="stringliteral">        that stderr is piped into stdout.&quot;&quot;&quot;</span></div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;        <span class="keywordflow">return</span> self.<a class="code" href="classprodutil_1_1prog_1_1ImmutableRunner.html#a917c81228691dacdbd34af26da113575">_init_runner</a>().<a class="code" href="classprodutil_1_1prog_1_1ImmutableRunner.html#a220e64fa8b4f4f40c8310053eeb1c90f">err2out</a>()</div><div class="line"><a name="l01093"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1ImmutableRunner.html#af5cf0d26ed59ded9f8ec97e5ac9fa64f"> 1093</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1ImmutableRunner.html#af5cf0d26ed59ded9f8ec97e5ac9fa64f">prerun</a>(self,arg): </div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Returns a new Runner that is like self in all ways except</span></div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;<span class="stringliteral">        that a new prerun function has been added.  </span></div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;<span class="stringliteral">        @param arg the new prerun function</span></div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;<span class="stringliteral">        @sa Runner.prerun()&quot;&quot;&quot;</span></div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;        <span class="keywordflow">return</span> self.<a class="code" href="classprodutil_1_1prog_1_1ImmutableRunner.html#a917c81228691dacdbd34af26da113575">_init_runner</a>().<a class="code" href="classprodutil_1_1prog_1_1ImmutableRunner.html#af5cf0d26ed59ded9f8ec97e5ac9fa64f">prerun</a>(arg)</div><div class="line"><a name="l01099"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1ImmutableRunner.html#a7bb5401dbe816df8e64e0462e4c268e4"> 1099</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1ImmutableRunner.html#a7bb5401dbe816df8e64e0462e4c268e4">__getitem__</a>(self,args): </div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Returns a new Runner that is like self in all ways except</span></div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;<span class="stringliteral">        with new arguments.</span></div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;<span class="stringliteral">        @param args the new argument or arguments</span></div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;<span class="stringliteral">        @sa Runner.__getitem__&quot;&quot;&quot;</span></div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;        <span class="keywordflow">return</span> Runner.__getitem__(self.<a class="code" href="classprodutil_1_1prog_1_1ImmutableRunner.html#a917c81228691dacdbd34af26da113575">_init_runner</a>(),args)</div><div class="line"><a name="l01105"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1ImmutableRunner.html#ac585ecd5b25250cb916068ac4a63baf8"> 1105</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1ImmutableRunner.html#ac585ecd5b25250cb916068ac4a63baf8">argins</a>(self,index,arg):</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Returns a new Runner that is like self in all ways, except</span></div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;<span class="stringliteral">        with the specified argument inserted.</span></div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;<span class="stringliteral">        @param index the index to insert before</span></div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;<span class="stringliteral">        @param arg the argument to insert&quot;&quot;&quot;</span></div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;        <span class="keywordflow">return</span> self.<a class="code" href="classprodutil_1_1prog_1_1ImmutableRunner.html#a917c81228691dacdbd34af26da113575">_init_runner</a>().<a class="code" href="classprodutil_1_1prog_1_1ImmutableRunner.html#ac585ecd5b25250cb916068ac4a63baf8">argins</a>(index,arg)</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    <span class="keyword">def </span>_gen(self,pipeline,logger=None,next=None):</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Creates a Runner object that is a duplicate of this</span></div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;<span class="stringliteral">        ImmutableRunner, and calls its _gen function.</span></div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;<span class="stringliteral">        @param pipeline the produtil.pipeline.Pipeline to generate</span></div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;<span class="stringliteral">        @param logger a logging.Logger for log messages</span></div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;<span class="stringliteral">        @param next the next Runner in the chain</span></div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;<span class="stringliteral">        @sa Runner._gen()&quot;&quot;&quot;</span></div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;        <span class="keywordflow">return</span> self.<a class="code" href="classprodutil_1_1prog_1_1Runner.html#ad3477b77e57a532d3a689d2589b7f8cb">runner</a>()._gen(pipeline,logger,next)</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;</div><div class="line"><a name="l01121"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1ImmutableRunner.html#a3540961cb7cfffffe1b0436af0a412dd"> 1121</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1ImmutableRunner.html#a3540961cb7cfffffe1b0436af0a412dd">setthreads</a>(self,nthreads):</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Sets the number of threads requested by this program.&quot;&quot;&quot;</span></div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;        r=self.<a class="code" href="classprodutil_1_1prog_1_1ImmutableRunner.html#a917c81228691dacdbd34af26da113575">_init_runner</a>()</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;        r.threads=nthreads</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;        <span class="keywordflow">return</span> r</div><div class="line"><a name="l01126"></a><span class="lineno"><a class="line" href="classprodutil_1_1prog_1_1ImmutableRunner.html#ab3e56ee091b6b72fa61f619533e04bad"> 1126</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classprodutil_1_1prog_1_1ImmutableRunner.html#ab3e56ee091b6b72fa61f619533e04bad">delthreads</a>(self):</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;!Removes the request for threads.  Same as self.threads=1&quot;&quot;&quot;</span></div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;        r=self.<a class="code" href="classprodutil_1_1prog_1_1ImmutableRunner.html#a917c81228691dacdbd34af26da113575">_init_runner</a>()</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;        del r.threads</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;        <span class="keywordflow">return</span> r</div><div class="ttc" id="classprodutil_1_1prog_1_1StringInput_html_a82e1d10dcc8da857cd632a76d8411d20"><div class="ttname"><a href="classprodutil_1_1prog_1_1StringInput.html#a82e1d10dcc8da857cd632a76d8411d20">produtil.prog.StringInput.__init__</a></div><div class="ttdeci">def __init__(self, obj)</div><div class="ttdoc">Creates a StringInput that sends the specified object to stdin. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00261">prog.py:261</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1Runner_html_a603a5319fc359e348055e6e6dc2f04dd"><div class="ttname"><a href="classprodutil_1_1prog_1_1Runner.html#a603a5319fc359e348055e6e6dc2f04dd">produtil.prog.Runner.isplainexe</a></div><div class="ttdeci">def isplainexe(self)</div><div class="ttdoc">Returns true if this is simply an executable with arguments (no redirection, no prerun objects...</div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00600">prog.py:600</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1Runner_html_a08cd2c14ea2c3a6cee6f9d7e22fb5adb"><div class="ttname"><a href="classprodutil_1_1prog_1_1Runner.html#a08cd2c14ea2c3a6cee6f9d7e22fb5adb">produtil.prog.Runner.inp</a></div><div class="ttdeci">def inp(self, stdin, string=False)</div><div class="ttdoc">Specifies that the first Runner in this pipeline takes input from the given file or string specified ...</div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00846">prog.py:846</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1Runner_html_a6989288ed805ea45f4bf2dedb2e1b64f"><div class="ttname"><a href="classprodutil_1_1prog_1_1Runner.html#a6989288ed805ea45f4bf2dedb2e1b64f">produtil.prog.Runner.clearenv</a></div><div class="ttdeci">def clearenv(self)</div><div class="ttdoc">Instructs this command to start with an empty environment except for certain critical variables witho...</div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00712">prog.py:712</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1NotValidPosixShString_html"><div class="ttname"><a href="classprodutil_1_1prog_1_1NotValidPosixShString.html">produtil.prog.NotValidPosixShString</a></div><div class="ttdoc">Raised when converting a Runner or pipeline of Runners to a POSIX sh string. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00077">prog.py:77</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1ExitStatusException_html_ae5705b224947b4136e5bf3a1cf65551a"><div class="ttname"><a href="classprodutil_1_1prog_1_1ExitStatusException.html#ae5705b224947b4136e5bf3a1cf65551a">produtil.prog.ExitStatusException.__str__</a></div><div class="ttdeci">def __str__(self)</div><div class="ttdoc">A string description of the error. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00130">prog.py:130</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1FileOpener_html_a2fb4fe3fcfc583de3b7bf1cb7bdc6498"><div class="ttname"><a href="classprodutil_1_1prog_1_1FileOpener.html#a2fb4fe3fcfc583de3b7bf1cb7bdc6498">produtil.prog.FileOpener.repr_for_in</a></div><div class="ttdeci">def repr_for_in(self)</div><div class="ttdoc">Part of the implementation of Runner.__repr__, this returns the filename and &quot;,string=False&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00246">prog.py:246</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1StreamGenerator_html_a23b24d8ba9f00ffbbf7c8d3e5eb6beb8"><div class="ttname"><a href="classprodutil_1_1prog_1_1StreamGenerator.html#a23b24d8ba9f00ffbbf7c8d3e5eb6beb8">produtil.prog.StreamGenerator.for_output</a></div><div class="ttdeci">def for_output(self)</div><div class="ttdoc">Has no effect. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00179">prog.py:179</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1FileOpener_html_aa1830342c0e46d7d1c7621a91c9d3a4f"><div class="ttname"><a href="classprodutil_1_1prog_1_1FileOpener.html#aa1830342c0e46d7d1c7621a91c9d3a4f">produtil.prog.FileOpener.copy</a></div><div class="ttdeci">def copy(self)</div><div class="ttdoc">Creates a shallow copy of this object. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00211">prog.py:211</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1ImmutableRunner_html_a9b15c33c34164026d03fc808ec6be4af"><div class="ttname"><a href="classprodutil_1_1prog_1_1ImmutableRunner.html#a9b15c33c34164026d03fc808ec6be4af">produtil.prog.ImmutableRunner.remove_prerun</a></div><div class="ttdeci">def remove_prerun(self)</div><div class="ttdoc">Removes all prerun objects. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l01011">prog.py:1011</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1Runner_html_af134c2ee61da336b4feb0f12744abaf7"><div class="ttname"><a href="classprodutil_1_1prog_1_1Runner.html#af134c2ee61da336b4feb0f12744abaf7">produtil.prog.Runner.err</a></div><div class="ttdeci">def err(self, stderr, append=False)</div><div class="ttdoc">Specifies that this process sends output from its stderr stream to the given file or stream...</div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00904">prog.py:904</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1Runner_html_afc4f254260c2be78afc59b0301b1641d"><div class="ttname"><a href="classprodutil_1_1prog_1_1Runner.html#afc4f254260c2be78afc59b0301b1641d">produtil.prog.Runner.__getitem__</a></div><div class="ttdeci">def __getitem__(self, args)</div><div class="ttdoc">Add one or more arguments to the executable. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00528">prog.py:528</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1StreamReuser_html_ae445d7a4d861bd4ab8b13aa5b40d2b4e"><div class="ttname"><a href="classprodutil_1_1prog_1_1StreamReuser.html#ae445d7a4d861bd4ab8b13aa5b40d2b4e">produtil.prog.StreamReuser.copy</a></div><div class="ttdeci">def copy(self)</div><div class="ttdoc">Returns a shallow copy of this object. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00303">prog.py:303</a></div></div>
<div class="ttc" id="namespaceprodutil_1_1sigsafety_html"><div class="ttname"><a href="namespaceprodutil_1_1sigsafety.html">produtil.sigsafety</a></div><div class="ttdoc">Sets up signal handlers to ensure a clean exit. </div><div class="ttdef"><b>Definition:</b> <a href="sigsafety_8py_source.html#l00001">sigsafety.py:1</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1OutIsError_html_a0ed73d4b81e2506976a7b9a5fbc8871f"><div class="ttname"><a href="classprodutil_1_1prog_1_1OutIsError.html#a0ed73d4b81e2506976a7b9a5fbc8871f">produtil.prog.OutIsError.__init__</a></div><div class="ttdeci">def __init__(self)</div><div class="ttdoc">OutIsError constructor. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00327">prog.py:327</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1Runner_html_af0096349fc353565e58907ba669beea4"><div class="ttname"><a href="classprodutil_1_1prog_1_1Runner.html#af0096349fc353565e58907ba669beea4">produtil.prog.Runner.err2out</a></div><div class="ttdeci">def err2out(self)</div><div class="ttdoc">Sends stderr to stdout. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00895">prog.py:895</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1Runner_html_a1b89d7669063ecd7daf3bb320bffb0f7"><div class="ttname"><a href="classprodutil_1_1prog_1_1Runner.html#a1b89d7669063ecd7daf3bb320bffb0f7">produtil.prog.Runner._copy_env</a></div><div class="ttdeci">_copy_env</div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00424">prog.py:424</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1FileOpener_html"><div class="ttname"><a href="classprodutil_1_1prog_1_1FileOpener.html">produtil.prog.FileOpener</a></div><div class="ttdoc">This is part of the internal implementation of Runner, used to convert it to a produtil.pipeline.Pipeline for execution. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00188">prog.py:188</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1ImmutableRunner_html_aa3fd899ed339579016d131f28f6d6fd6"><div class="ttname"><a href="classprodutil_1_1prog_1_1ImmutableRunner.html#aa3fd899ed339579016d131f28f6d6fd6">produtil.prog.ImmutableRunner.pipeto</a></div><div class="ttdeci">def pipeto(self, other)</div><div class="ttdoc">Returns a new Runner that is like self in all ways, except that it has been piped into the other Runn...</div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l01065">prog.py:1065</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1StringInput_html_a4d0057e549d8f679be681ac671734f6e"><div class="ttname"><a href="classprodutil_1_1prog_1_1StringInput.html#a4d0057e549d8f679be681ac671734f6e">produtil.prog.StringInput.repr_for_in</a></div><div class="ttdeci">def repr_for_in(self)</div><div class="ttdoc">Part of the implementation of Runner.__repr__. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00284">prog.py:284</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1FileOpener_html_a54695b8990af81165e7eebd0cb9232bc"><div class="ttname"><a href="classprodutil_1_1prog_1_1FileOpener.html#a54695b8990af81165e7eebd0cb9232bc">produtil.prog.FileOpener.__repr__</a></div><div class="ttdeci">def __repr__(self)</div><div class="ttdoc">Returns a string representation of this object as valid Python code. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00242">prog.py:242</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1MultipleStdin_html"><div class="ttname"><a href="classprodutil_1_1prog_1_1MultipleStdin.html">produtil.prog.MultipleStdin</a></div><div class="ttdoc">Raised when the caller specifies more than one source for the stdin of a Runner. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00052">prog.py:52</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1OverspecifiedStream_html"><div class="ttname"><a href="classprodutil_1_1prog_1_1OverspecifiedStream.html">produtil.prog.OverspecifiedStream</a></div><div class="ttdoc">Raised when one tries to specify the stdout, stderr or stdin to go to, or come from, more than one location. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00049">prog.py:49</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1Runner_html_a250c1c9b9571243f047a6dee1c77a9ee"><div class="ttname"><a href="classprodutil_1_1prog_1_1Runner.html#a250c1c9b9571243f047a6dee1c77a9ee">produtil.prog.Runner.first</a></div><div class="ttdeci">def first(self)</div><div class="ttdoc">Returns the first Runner in this pipeline. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00467">prog.py:467</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1Runner_html_a21c7e161111a65d92bd92db7f2b2ef52"><div class="ttname"><a href="classprodutil_1_1prog_1_1Runner.html#a21c7e161111a65d92bd92db7f2b2ef52">produtil.prog.Runner.env</a></div><div class="ttdeci">def env(self, kwargs)</div><div class="ttdoc">Sets environment variables for this Runner. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00749">prog.py:749</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1Runner_html_a0245853f0da1e9c040d7707a12ed0d8c"><div class="ttname"><a href="classprodutil_1_1prog_1_1Runner.html#a0245853f0da1e9c040d7707a12ed0d8c">produtil.prog.Runner.__or__</a></div><div class="ttdeci">def __or__(self, other)</div><div class="ttdoc">Pipes this Runner to the other Runner. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00648">prog.py:648</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1FileOpener_html_ab1c60347155078adb5ac3e54958fd471"><div class="ttname"><a href="classprodutil_1_1prog_1_1FileOpener.html#ab1c60347155078adb5ac3e54958fd471">produtil.prog.FileOpener.repr_for_err</a></div><div class="ttdeci">def repr_for_err(self)</div><div class="ttdoc">Same as repr_for_out. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00255">prog.py:255</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1InvalidPipeline_html"><div class="ttname"><a href="classprodutil_1_1prog_1_1InvalidPipeline.html">produtil.prog.InvalidPipeline</a></div><div class="ttdoc">Raised when the caller specifies an invalid input or output when piping a Runner into or out of anoth...</div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00061">prog.py:61</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1Runner_html_a73c640e8ddbee2de058415b96172ad38"><div class="ttname"><a href="classprodutil_1_1prog_1_1Runner.html#a73c640e8ddbee2de058415b96172ad38">produtil.prog.Runner.getthreads</a></div><div class="ttdeci">def getthreads(self)</div><div class="ttdoc">Returns the number of threads requested by this program. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00453">prog.py:453</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1ImmutableRunner_html_ac585ecd5b25250cb916068ac4a63baf8"><div class="ttname"><a href="classprodutil_1_1prog_1_1ImmutableRunner.html#ac585ecd5b25250cb916068ac4a63baf8">produtil.prog.ImmutableRunner.argins</a></div><div class="ttdeci">def argins(self, index, arg)</div><div class="ttdoc">Returns a new Runner that is like self in all ways, except with the specified argument inserted...</div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l01105">prog.py:1105</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1Runner_html_a743a774333449b2738070a9df7cd6aec"><div class="ttname"><a href="classprodutil_1_1prog_1_1Runner.html#a743a774333449b2738070a9df7cd6aec">produtil.prog.Runner._cd</a></div><div class="ttdeci">_cd</div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00412">prog.py:412</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1Runner_html_a6cf8e37447ec3eee84e186d9939738a4"><div class="ttname"><a href="classprodutil_1_1prog_1_1Runner.html#a6cf8e37447ec3eee84e186d9939738a4">produtil.prog.Runner.copyenv</a></div><div class="ttdeci">def copyenv(self)</div><div class="ttdoc">Instructs this command to duplicate the parent process environment (the default). ...</div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00705">prog.py:705</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1FileOpener_html_a907d80ddbf804fe37d65f943282ca29c"><div class="ttname"><a href="classprodutil_1_1prog_1_1FileOpener.html#a907d80ddbf804fe37d65f943282ca29c">produtil.prog.FileOpener.intmode</a></div><div class="ttdeci">def intmode(self)</div><div class="ttdoc">Returns an integer version of mode suitable for os.open. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00226">prog.py:226</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1StreamReuser_html_a074df555d6a339742584871dc529660c"><div class="ttname"><a href="classprodutil_1_1prog_1_1StreamReuser.html#a074df555d6a339742584871dc529660c">produtil.prog.StreamReuser.to_shell</a></div><div class="ttdeci">def to_shell(self)</div><div class="ttdoc">Raises NotValidPosixSh to indicate that the stream cannot be represented as POSIX sh...</div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00307">prog.py:307</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1Runner_html_a3e2ab45db4f50b60d15f32c2549b11fe"><div class="ttname"><a href="classprodutil_1_1prog_1_1Runner.html#a3e2ab45db4f50b60d15f32c2549b11fe">produtil.prog.Runner.remove_prerun</a></div><div class="ttdeci">def remove_prerun(self)</div><div class="ttdoc">Removes all prerun objects. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00473">prog.py:473</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1Runner_html_ad9455ea7f568522c46981c6a36374f56"><div class="ttname"><a href="classprodutil_1_1prog_1_1Runner.html#ad9455ea7f568522c46981c6a36374f56">produtil.prog.Runner._env</a></div><div class="ttdeci">_env</div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00411">prog.py:411</a></div></div>
<div class="ttc" id="namespaceprodutil_1_1prog_html_ada9b7369e413df1fe077636f2ae07555"><div class="ttname"><a href="namespaceprodutil_1_1prog.html#ada9b7369e413df1fe077636f2ae07555">produtil.prog.shstrok</a></div><div class="ttdeci">def shstrok(s)</div><div class="ttdoc">Returns True if the specified string can be expressed as a POSIX sh string, and false otherwise...</div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00148">prog.py:148</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1Runner_html_a2090eb6190ccbefd5caae00a26160a99"><div class="ttname"><a href="classprodutil_1_1prog_1_1Runner.html#a2090eb6190ccbefd5caae00a26160a99">produtil.prog.Runner._prev</a></div><div class="ttdeci">_prev</div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00411">prog.py:411</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1NotValidPosixSh_html"><div class="ttname"><a href="classprodutil_1_1prog_1_1NotValidPosixSh.html">produtil.prog.NotValidPosixSh</a></div><div class="ttdoc">Base class of exceptions that are raised when converting a Runner or pipeline of Runners to a POSIX s...</div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00065">prog.py:65</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1Runner_html_ac855a196e05cb7d73679673515a09d1d"><div class="ttname"><a href="classprodutil_1_1prog_1_1Runner.html#ac855a196e05cb7d73679673515a09d1d">produtil.prog.Runner._prerun</a></div><div class="ttdeci">_prerun</div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00412">prog.py:412</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1StreamReuser_html_a63e953842a4f3d9e2d8c5729bb8ebaf7"><div class="ttname"><a href="classprodutil_1_1prog_1_1StreamReuser.html#a63e953842a4f3d9e2d8c5729bb8ebaf7">produtil.prog.StreamReuser.__init__</a></div><div class="ttdeci">def __init__(self, obj)</div><div class="ttdoc">Creates a StreamReuser for the specified stream-like object. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00297">prog.py:297</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1Runner_html_a0878c81c9ac98e9595fc644710c29f16"><div class="ttname"><a href="classprodutil_1_1prog_1_1Runner.html#a0878c81c9ac98e9595fc644710c29f16">produtil.prog.Runner._threads</a></div><div class="ttdeci">_threads</div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00413">prog.py:413</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1OutIsError_html_a070066f632bfc52bc6487d19fec3351c"><div class="ttname"><a href="classprodutil_1_1prog_1_1OutIsError.html#a070066f632bfc52bc6487d19fec3351c">produtil.prog.OutIsError.to_shell</a></div><div class="ttdeci">def to_shell(self)</div><div class="ttdoc">Returns &quot;2&gt;&amp;1&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00332">prog.py:332</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1ImmutableRunner_html_a917c81228691dacdbd34af26da113575"><div class="ttname"><a href="classprodutil_1_1prog_1_1ImmutableRunner.html#a917c81228691dacdbd34af26da113575">produtil.prog.ImmutableRunner._init_runner</a></div><div class="ttdeci">def _init_runner(self)</div><div class="ttdoc">Do not call this function: it is an internal implementation function. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l01029">prog.py:1029</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1Runner_html_aac50c9d8989fcb650bb4dfd80acc7bfc"><div class="ttname"><a href="classprodutil_1_1prog_1_1Runner.html#aac50c9d8989fcb650bb4dfd80acc7bfc">produtil.prog.Runner.prerun</a></div><div class="ttdeci">def prerun(self, arg)</div><div class="ttdoc">Adds a function or callable object to be called before running the program. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00493">prog.py:493</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1StringInput_html_a0e3d0da4561109756e5a1da90e8fb6c7"><div class="ttname"><a href="classprodutil_1_1prog_1_1StringInput.html#a0e3d0da4561109756e5a1da90e8fb6c7">produtil.prog.StringInput.__repr__</a></div><div class="ttdeci">def __repr__(self)</div><div class="ttdoc">Returns a string representation of this object as valid Python code. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00276">prog.py:276</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1Runner_html_a27d30d4bfc99675e17517265567bb349"><div class="ttname"><a href="classprodutil_1_1prog_1_1Runner.html#a27d30d4bfc99675e17517265567bb349">produtil.prog.Runner._impl_make_env</a></div><div class="ttdeci">def _impl_make_env(self)</div><div class="ttdoc">This internal function generates information about the environment variables to be input to this proc...</div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00721">prog.py:721</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1Runner_html_a0cd9577911d14e3d6166a87dc2bf162a"><div class="ttname"><a href="classprodutil_1_1prog_1_1Runner.html#a0cd9577911d14e3d6166a87dc2bf162a">produtil.prog.Runner.__lshift__</a></div><div class="ttdeci">def __lshift__(self, stdin)</div><div class="ttdoc">Sends the specified string into stdin. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00626">prog.py:626</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1Runner_html_a3eee391a77da8246c7ca063a1a6be334"><div class="ttname"><a href="classprodutil_1_1prog_1_1Runner.html#a3eee391a77da8246c7ca063a1a6be334">produtil.prog.Runner.__repr__</a></div><div class="ttdeci">def __repr__(self)</div><div class="ttdoc">Attempts to produce valid Python code to represent this Runnable. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00548">prog.py:548</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1EqualInEnv_html"><div class="ttname"><a href="classprodutil_1_1prog_1_1EqualInEnv.html">produtil.prog.EqualInEnv</a></div><div class="ttdoc">Raised when converting a Runner or pipeline of Runners to a POSIX sh string if there is an equal (&quot;=&quot;...</div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00085">prog.py:85</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1FileOpener_html_ad8b84608505744912dad861cf7f183ec"><div class="ttname"><a href="classprodutil_1_1prog_1_1FileOpener.html#ad8b84608505744912dad861cf7f183ec">produtil.prog.FileOpener.__init__</a></div><div class="ttdeci">def __init__(self, filename, mode, err=False)</div><div class="ttdoc">FileOpener constructor. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00194">prog.py:194</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1MultipleStderr_html"><div class="ttname"><a href="classprodutil_1_1prog_1_1MultipleStderr.html">produtil.prog.MultipleStderr</a></div><div class="ttdoc">Raised when the caller specifies more than one destination for a Runner&amp;#39;s stderr. ...</div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00058">prog.py:58</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1ExitStatusException_html_ab3ba06ee74614ccc99bab1f345015736"><div class="ttname"><a href="classprodutil_1_1prog_1_1ExitStatusException.html#ab3ba06ee74614ccc99bab1f345015736">produtil.prog.ExitStatusException.__init__</a></div><div class="ttdeci">def __init__(self, message, status)</div><div class="ttdoc">ExitStatusException constructor. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00118">prog.py:118</a></div></div>
<div class="ttc" id="namespaceprodutil_1_1mpi__impl_html"><div class="ttname"><a href="namespaceprodutil_1_1mpi__impl.html">produtil.mpi_impl</a></div><div class="ttdoc">Converts a group of MPI ranks to a runnable command. </div><div class="ttdef"><b>Definition:</b> <a href="mpi__impl_2____init_____8py_source.html#l00001">__init__.py:1</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1FileOpener_html_ab36a0759920a2ddd2f80a3a7634e538b"><div class="ttname"><a href="classprodutil_1_1prog_1_1FileOpener.html#ab36a0759920a2ddd2f80a3a7634e538b">produtil.prog.FileOpener.to_shell</a></div><div class="ttdeci">def to_shell(self)</div><div class="ttdoc">Creates a POSIX sh representation of the part of the command that requests redirection. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00214">prog.py:214</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1ProgSyntaxError_html"><div class="ttname"><a href="classprodutil_1_1prog_1_1ProgSyntaxError.html">produtil.prog.ProgSyntaxError</a></div><div class="ttdoc">Base class of exceptions raised when a Runner is given arguments that make no sense. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00046">prog.py:46</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1Runner_html_af7ed6764b2978d67f6d1c743cf390b22"><div class="ttname"><a href="classprodutil_1_1prog_1_1Runner.html#af7ed6764b2978d67f6d1c743cf390b22">produtil.prog.Runner.__lt__</a></div><div class="ttdeci">def __lt__(self, stdin)</div><div class="ttdoc">Connects the given object to stdin, via inp(stdin,string=False). </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00615">prog.py:615</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1StringInput_html_a1166a490f7649cb960e1d0e09da730af"><div class="ttname"><a href="classprodutil_1_1prog_1_1StringInput.html#a1166a490f7649cb960e1d0e09da730af">produtil.prog.StringInput.to_shell</a></div><div class="ttdeci">def to_shell(self)</div><div class="ttdoc">Converts this object, if possible, to an echo command followed by a pipe (&quot;|&quot;). </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00280">prog.py:280</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1FileOpener_html_aaa7f530182e24d3f87e2a378fd701d81"><div class="ttname"><a href="classprodutil_1_1prog_1_1FileOpener.html#aaa7f530182e24d3f87e2a378fd701d81">produtil.prog.FileOpener.repr_for_out</a></div><div class="ttdeci">def repr_for_out(self)</div><div class="ttdoc">Part of the implementation of Runner.__repr__, this returns the filename and &quot;,string=False&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00250">prog.py:250</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1FileOpener_html_af1a224bbe3fab7a93419729b7a23966a"><div class="ttname"><a href="classprodutil_1_1prog_1_1FileOpener.html#af1a224bbe3fab7a93419729b7a23966a">produtil.prog.FileOpener.mode</a></div><div class="ttdeci">mode</div><div class="ttdoc">how the file is being opened </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00200">prog.py:200</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1NoSuchRedirection_html"><div class="ttname"><a href="classprodutil_1_1prog_1_1NoSuchRedirection.html">produtil.prog.NoSuchRedirection</a></div><div class="ttdoc">Raised when trying to convert a pipeline of Runners to a POSIX sh string, if a redirection in the pip...</div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00073">prog.py:73</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1Runner_html_a5ad3b4661a7df37f771708e67b675529"><div class="ttname"><a href="classprodutil_1_1prog_1_1Runner.html#a5ad3b4661a7df37f771708e67b675529">produtil.prog.Runner.delthreads</a></div><div class="ttdeci">def delthreads(self)</div><div class="ttdoc">Removes the request for threads. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00460">prog.py:460</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1ExitStatusException_html_a2960a647082baf6baf4aa535656413a0"><div class="ttname"><a href="classprodutil_1_1prog_1_1ExitStatusException.html#a2960a647082baf6baf4aa535656413a0">produtil.prog.ExitStatusException.returncode</a></div><div class="ttdeci">returncode</div><div class="ttdoc">The return code, including signal information. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00123">prog.py:123</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1StreamGenerator_html"><div class="ttname"><a href="classprodutil_1_1prog_1_1StreamGenerator.html">produtil.prog.StreamGenerator</a></div><div class="ttdoc">This is part of the internal implementation of Runner, and is used to convert it to a produtil...</div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00171">prog.py:171</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1Runner_html_ad3477b77e57a532d3a689d2589b7f8cb"><div class="ttname"><a href="classprodutil_1_1prog_1_1Runner.html#ad3477b77e57a532d3a689d2589b7f8cb">produtil.prog.Runner.runner</a></div><div class="ttdeci">def runner(self)</div><div class="ttdoc">Returns self if self is modifiable, otherwise returns a modifiable copy of self. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00808">prog.py:808</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1ImmutableRunner_html_adb7d6d98d469331551045899eff04656"><div class="ttname"><a href="classprodutil_1_1prog_1_1ImmutableRunner.html#adb7d6d98d469331551045899eff04656">produtil.prog.ImmutableRunner.copy</a></div><div class="ttdeci">def copy(self, typeobj=None)</div><div class="ttdoc">Creates a deep copy of this runner, except if stream objects are connected to stdin, stdout or stderr. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l01016">prog.py:1016</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1ImmutableRunner_html_a105e0fc686125955ef52509acadbab26"><div class="ttname"><a href="classprodutil_1_1prog_1_1ImmutableRunner.html#a105e0fc686125955ef52509acadbab26">produtil.prog.ImmutableRunner.err</a></div><div class="ttdeci">def err(self, stderr, append=False)</div><div class="ttdoc">Returns a new Runner that is like self in all ways except with a different stderr. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l01083">prog.py:1083</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1StreamGenerator_html_a1b58333ad55bc1a9957ea63cd2ef8959"><div class="ttname"><a href="classprodutil_1_1prog_1_1StreamGenerator.html#a1b58333ad55bc1a9957ea63cd2ef8959">produtil.prog.StreamGenerator.repr_for_err</a></div><div class="ttdeci">def repr_for_err(self)</div><div class="ttdoc">Returns the stderr value. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00182">prog.py:182</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1ImmutableRunner_html_a8e479e7a81ae817c7a276c63544a3187"><div class="ttname"><a href="classprodutil_1_1prog_1_1ImmutableRunner.html#a8e479e7a81ae817c7a276c63544a3187">produtil.prog.ImmutableRunner.clearenv</a></div><div class="ttdeci">def clearenv(self)</div><div class="ttdoc">Creates a new Runner which is like self in all ways except that it uses an empty environment except f...</div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l01045">prog.py:1045</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1ImmutableRunner_html_a3540961cb7cfffffe1b0436af0a412dd"><div class="ttname"><a href="classprodutil_1_1prog_1_1ImmutableRunner.html#a3540961cb7cfffffe1b0436af0a412dd">produtil.prog.ImmutableRunner.setthreads</a></div><div class="ttdeci">def setthreads(self, nthreads)</div><div class="ttdoc">Sets the number of threads requested by this program. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l01121">prog.py:1121</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1Runner_html_a9900cc41690e8f1049549a6a02da20b5"><div class="ttname"><a href="classprodutil_1_1prog_1_1Runner.html#a9900cc41690e8f1049549a6a02da20b5">produtil.prog.Runner._stdout</a></div><div class="ttdeci">_stdout</div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00411">prog.py:411</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1Runner_html_a9566884cf3c9c448f78b8d9f0e1e875b"><div class="ttname"><a href="classprodutil_1_1prog_1_1Runner.html#a9566884cf3c9c448f78b8d9f0e1e875b">produtil.prog.Runner.out</a></div><div class="ttdeci">def out(self, stdout, append=False)</div><div class="ttdoc">Specifies that this process sends output from its stdout stream to the given file or stream...</div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00873">prog.py:873</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1ImmutableRunner_html_a220e64fa8b4f4f40c8310053eeb1c90f"><div class="ttname"><a href="classprodutil_1_1prog_1_1ImmutableRunner.html#a220e64fa8b4f4f40c8310053eeb1c90f">produtil.prog.ImmutableRunner.err2out</a></div><div class="ttdeci">def err2out(self)</div><div class="ttdoc">Returns a new Runner that is like self in all ways except that stderr is piped into stdout...</div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l01089">prog.py:1089</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1StringInput_html_adb8fec930373c3cb7d962ef10386c9be"><div class="ttname"><a href="classprodutil_1_1prog_1_1StringInput.html#adb8fec930373c3cb7d962ef10386c9be">produtil.prog.StringInput.copy</a></div><div class="ttdeci">def copy(self)</div><div class="ttdoc">Returns a shallow copy of this object. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00269">prog.py:269</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1StreamGenerator_html_aa3b7f5387661dc92cfdc3ecaefa1b5bf"><div class="ttname"><a href="classprodutil_1_1prog_1_1StreamGenerator.html#aa3b7f5387661dc92cfdc3ecaefa1b5bf">produtil.prog.StreamGenerator.for_input</a></div><div class="ttdeci">def for_input(self)</div><div class="ttdoc">Has no effect. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00176">prog.py:176</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1Runner_html_a280d40693bc9acafbf69d0c8ee4679fa"><div class="ttname"><a href="classprodutil_1_1prog_1_1Runner.html#a280d40693bc9acafbf69d0c8ee4679fa">produtil.prog.Runner._stringify_arg</a></div><div class="ttdeci">def _stringify_arg(self, arg)</div><div class="ttdoc">Returns a string representation of the given argument to convert it to an input to produtil...</div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00510">prog.py:510</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1Runner_html_ac91858ce30e4f203019b663dcc618f6d"><div class="ttname"><a href="classprodutil_1_1prog_1_1Runner.html#ac91858ce30e4f203019b663dcc618f6d">produtil.prog.Runner.__ge__</a></div><div class="ttdeci">def __ge__(self, outerr)</div><div class="ttdoc">Redirects stderr and stdout to the specified file, truncating it. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00642">prog.py:642</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1Runner_html_aefd5f48c376bb1c75829b395258d8c1c"><div class="ttname"><a href="classprodutil_1_1prog_1_1Runner.html#aefd5f48c376bb1c75829b395258d8c1c">produtil.prog.Runner.__gt__</a></div><div class="ttdeci">def __gt__(self, stdout)</div><div class="ttdoc">Connects the given object to stdout, truncating it if it is a file. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00620">prog.py:620</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1Runner_html_a3b5e10295dd72ce5361a16770db4728c"><div class="ttname"><a href="classprodutil_1_1prog_1_1Runner.html#a3b5e10295dd72ce5361a16770db4728c">produtil.prog.Runner.setthreads</a></div><div class="ttdeci">def setthreads(self, nthreads)</div><div class="ttdoc">Sets the number of threads requested by this program. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00456">prog.py:456</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1StringInput_html"><div class="ttname"><a href="classprodutil_1_1prog_1_1StringInput.html">produtil.prog.StringInput</a></div><div class="ttdoc">Represents sending a string to a process&amp;#39;s stdin. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00259">prog.py:259</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1ImmutableRunner_html_ab3e56ee091b6b72fa61f619533e04bad"><div class="ttname"><a href="classprodutil_1_1prog_1_1ImmutableRunner.html#ab3e56ee091b6b72fa61f619533e04bad">produtil.prog.ImmutableRunner.delthreads</a></div><div class="ttdeci">def delthreads(self)</div><div class="ttdoc">Removes the request for threads. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l01126">prog.py:1126</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1OutIsError_html_ae27a104ef787885a06f3102fa0b2ccb7"><div class="ttname"><a href="classprodutil_1_1prog_1_1OutIsError.html#ae27a104ef787885a06f3102fa0b2ccb7">produtil.prog.OutIsError.repr_for_in</a></div><div class="ttdeci">def repr_for_in(self)</div><div class="ttdoc">This should never be called. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00338">prog.py:338</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1ImmutableRunner_html_af5cf0d26ed59ded9f8ec97e5ac9fa64f"><div class="ttname"><a href="classprodutil_1_1prog_1_1ImmutableRunner.html#af5cf0d26ed59ded9f8ec97e5ac9fa64f">produtil.prog.ImmutableRunner.prerun</a></div><div class="ttdeci">def prerun(self, arg)</div><div class="ttdoc">Returns a new Runner that is like self in all ways except that a new prerun function has been added...</div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l01093">prog.py:1093</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1StreamReuser_html_a9fb0637df002a1f0de9c03f965adb3fc"><div class="ttname"><a href="classprodutil_1_1prog_1_1StreamReuser.html#a9fb0637df002a1f0de9c03f965adb3fc">produtil.prog.StreamReuser.obj</a></div><div class="ttdeci">obj</div><div class="ttdoc">the stream-like object to reuse. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00300">prog.py:300</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1ImmutableRunner_html_abc53007d7444ac100b2b8770644dc643"><div class="ttname"><a href="classprodutil_1_1prog_1_1ImmutableRunner.html#abc53007d7444ac100b2b8770644dc643">produtil.prog.ImmutableRunner.out</a></div><div class="ttdeci">def out(self, stdout, append=False)</div><div class="ttdoc">Returns a new Runner that is like self in all ways except with a different stdout. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l01077">prog.py:1077</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1Runner_html_af210853bf7a3e640c7a8ec8bf9d46d86"><div class="ttname"><a href="classprodutil_1_1prog_1_1Runner.html#af210853bf7a3e640c7a8ec8bf9d46d86">produtil.prog.Runner.__pos__</a></div><div class="ttdeci">def __pos__(self)</div><div class="ttdoc">Sends stderr to stdout. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00638">prog.py:638</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1OutIsError_html_aa86f50914d8a06b685d8d92793b8615e"><div class="ttname"><a href="classprodutil_1_1prog_1_1OutIsError.html#aa86f50914d8a06b685d8d92793b8615e">produtil.prog.OutIsError.__eq__</a></div><div class="ttdeci">def __eq__(self, other)</div><div class="ttdoc">Is the other object an OutIsError? </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00346">prog.py:346</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1PrerunNotValidPosixSh_html"><div class="ttname"><a href="classprodutil_1_1prog_1_1PrerunNotValidPosixSh.html">produtil.prog.PrerunNotValidPosixSh</a></div><div class="ttdoc">Raised when trying to convert a pipeline of Runners to a POSIX sh string if the pipeline has a prerun...</div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00069">prog.py:69</a></div></div>
<div class="ttc" id="namespaceprodutil_1_1prog_html_a66ee3b3e6606f964ddd99710fb5b58f6"><div class="ttname"><a href="namespaceprodutil_1_1prog.html#a66ee3b3e6606f964ddd99710fb5b58f6">produtil.prog.shbackslash</a></div><div class="ttdeci">def shbackslash(s)</div><div class="ttdoc">Given a Python str, returns a backslashed POSIX sh string, or raises NotValidPosixShString if that ca...</div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00158">prog.py:158</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1Runner_html_a2de5473ee7b9291147083c5530c9d1bd"><div class="ttname"><a href="classprodutil_1_1prog_1_1Runner.html#a2de5473ee7b9291147083c5530c9d1bd">produtil.prog.Runner._args</a></div><div class="ttdeci">_args</div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00417">prog.py:417</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1ImmutableRunner_html_a85f5515d7c47ffbcb5319e8719b7da94"><div class="ttname"><a href="classprodutil_1_1prog_1_1ImmutableRunner.html#a85f5515d7c47ffbcb5319e8719b7da94">produtil.prog.ImmutableRunner.runner</a></div><div class="ttdeci">def runner(self)</div><div class="ttdoc">Returns a modifiable version of this object (as a Runner). </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l01026">prog.py:1026</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1Runner_html_ac70abb742c4f1ca735a0260cc26afe61"><div class="ttname"><a href="classprodutil_1_1prog_1_1Runner.html#ac70abb742c4f1ca735a0260cc26afe61">produtil.prog.Runner.to_shell</a></div><div class="ttdeci">def to_shell(self)</div><div class="ttdoc">Returns a string that expresses this object as a POSIX sh shell command if possible, or raises a subclass of NotValidPosixSh if not. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00760">prog.py:760</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1ExitStatusException_html"><div class="ttname"><a href="classprodutil_1_1prog_1_1ExitStatusException.html">produtil.prog.ExitStatusException</a></div><div class="ttdoc">Raised to indicate that a program generated an invalid return code. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00096">prog.py:96</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1Runner_html_ade5a2e90df814ee4b57b90d3363f538d"><div class="ttname"><a href="classprodutil_1_1prog_1_1Runner.html#ade5a2e90df814ee4b57b90d3363f538d">produtil.prog.Runner.__init__</a></div><div class="ttdeci">def __init__(self, args, kwargs)</div><div class="ttdoc">Creates a new Runner. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00365">prog.py:365</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1Runner_html_a02dd099ab2736868bd545872cc3a7a70"><div class="ttname"><a href="classprodutil_1_1prog_1_1Runner.html#a02dd099ab2736868bd545872cc3a7a70">produtil.prog.Runner.copy</a></div><div class="ttdeci">def copy(self, typeobj=None)</div><div class="ttdoc">Returns a deep copy of this object, almost. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00678">prog.py:678</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1FileOpener_html_a1789527dd323e18960d9c10553a2e8e6"><div class="ttname"><a href="classprodutil_1_1prog_1_1FileOpener.html#a1789527dd323e18960d9c10553a2e8e6">produtil.prog.FileOpener.err</a></div><div class="ttdeci">err</div><div class="ttdoc">If True, this is for stderr. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00201">prog.py:201</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1Runner_html_abc86bdeeb68c4c5a44c3f3854e2d0e8b"><div class="ttname"><a href="classprodutil_1_1prog_1_1Runner.html#abc86bdeeb68c4c5a44c3f3854e2d0e8b">produtil.prog.Runner.__eq__</a></div><div class="ttdeci">def __eq__(self, other)</div><div class="ttdoc">Returns True if the other object is a Runner that is equal to this one, and False otherwise...</div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00585">prog.py:585</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1Runner_html_a40e27d32a1743f1f0c0279305c00e064"><div class="ttname"><a href="classprodutil_1_1prog_1_1Runner.html#a40e27d32a1743f1f0c0279305c00e064">produtil.prog.Runner.cd</a></div><div class="ttdeci">def cd(self, dirpath)</div><div class="ttdoc">Requests that this process run in the specified directory. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00608">prog.py:608</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1ImmutableRunner_html_ab75e48ebe72615ad512bdeab6aac7da6"><div class="ttname"><a href="classprodutil_1_1prog_1_1ImmutableRunner.html#ab75e48ebe72615ad512bdeab6aac7da6">produtil.prog.ImmutableRunner.env</a></div><div class="ttdeci">def env(self, kwargs)</div><div class="ttdoc">Returns a new Runner that is like self in all ways except that the specified environment variables ar...</div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l01059">prog.py:1059</a></div></div>
<div class="ttc" id="namespaceprodutil_1_1prog_html_acd3726face2cb809745f9ec1b4992ddf"><div class="ttname"><a href="namespaceprodutil_1_1prog.html#acd3726face2cb809745f9ec1b4992ddf">produtil.prog.shvarok</a></div><div class="ttdeci">def shvarok(s)</div><div class="ttdoc">Returns True if the specified environment variable name is a valid POSIX sh variable name...</div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00139">prog.py:139</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1ImmutableRunner_html_a7bb5401dbe816df8e64e0462e4c268e4"><div class="ttname"><a href="classprodutil_1_1prog_1_1ImmutableRunner.html#a7bb5401dbe816df8e64e0462e4c268e4">produtil.prog.ImmutableRunner.__getitem__</a></div><div class="ttdeci">def __getitem__(self, args)</div><div class="ttdoc">Returns a new Runner that is like self in all ways except with new arguments. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l01099">prog.py:1099</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1Runner_html_a1d50ecf7ba6ea32a2529b9a8c8433978"><div class="ttname"><a href="classprodutil_1_1prog_1_1Runner.html#a1d50ecf7ba6ea32a2529b9a8c8433978">produtil.prog.Runner.pipeto</a></div><div class="ttdeci">def pipeto(self, other)</div><div class="ttdoc">Specifies that this Runner will send its stdout to the other runner&amp;#39;s stdin. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00814">prog.py:814</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1StringInput_html_a806a9b2c16cc4f96714461db3d728414"><div class="ttname"><a href="classprodutil_1_1prog_1_1StringInput.html#a806a9b2c16cc4f96714461db3d728414">produtil.prog.StringInput.obj</a></div><div class="ttdeci">obj</div><div class="ttdoc">the object to send to stdin </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00265">prog.py:265</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1ExitStatusException_html_aba70f2927faa79e8ea7cf2063e48c264"><div class="ttname"><a href="classprodutil_1_1prog_1_1ExitStatusException.html#aba70f2927faa79e8ea7cf2063e48c264">produtil.prog.ExitStatusException.__repr__</a></div><div class="ttdeci">def __repr__(self)</div><div class="ttdoc">A pythonic description of the error for debugging. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00133">prog.py:133</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1Runner_html_acd2b067234ccd898d6b71f228738ba8a"><div class="ttname"><a href="classprodutil_1_1prog_1_1Runner.html#acd2b067234ccd898d6b71f228738ba8a">produtil.prog.Runner.__str__</a></div><div class="ttdeci">def __str__(self)</div><div class="ttdoc">Alias for repr() </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00545">prog.py:545</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1ExitStatusException_html_acc028786edd07d64d1e0a9b17e1b502c"><div class="ttname"><a href="classprodutil_1_1prog_1_1ExitStatusException.html#acc028786edd07d64d1e0a9b17e1b502c">produtil.prog.ExitStatusException.message</a></div><div class="ttdeci">message</div><div class="ttdoc">A string description for what went wrong. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00122">prog.py:122</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1Runner_html"><div class="ttname"><a href="classprodutil_1_1prog_1_1Runner.html">produtil.prog.Runner</a></div><div class="ttdoc">Represents a single stage of a pipeline to execute. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00353">prog.py:353</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1ImmutableRunner_html_a22f1597521631f1b642466cde79165a7"><div class="ttname"><a href="classprodutil_1_1prog_1_1ImmutableRunner.html#a22f1597521631f1b642466cde79165a7">produtil.prog.ImmutableRunner._init</a></div><div class="ttdeci">_init</div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l01004">prog.py:1004</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1MultipleStdout_html"><div class="ttname"><a href="classprodutil_1_1prog_1_1MultipleStdout.html">produtil.prog.MultipleStdout</a></div><div class="ttdoc">Raised when the caller specifies more than one destination for a Runner&amp;#39;s stdout. ...</div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00055">prog.py:55</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1ExitStatusException_html_aacf5ec061ec4d9d110703acf4ebc9371"><div class="ttname"><a href="classprodutil_1_1prog_1_1ExitStatusException.html#aacf5ec061ec4d9d110703acf4ebc9371">produtil.prog.ExitStatusException.status</a></div><div class="ttdeci">def status(self)</div><div class="ttdoc">An alias for self.returncode: the exit status. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00126">prog.py:126</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1StreamReuser_html_aa3b3accdc6aca8f2825c87edf2a8c040"><div class="ttname"><a href="classprodutil_1_1prog_1_1StreamReuser.html#aa3b3accdc6aca8f2825c87edf2a8c040">produtil.prog.StreamReuser.repr_for_in</a></div><div class="ttdeci">def repr_for_in(self)</div><div class="ttdoc">Returns repr(obj) where obj is the given stream-like object. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00316">prog.py:316</a></div></div>
<div class="ttc" id="namespaceprodutil_1_1pipeline_html"><div class="ttname"><a href="namespaceprodutil_1_1pipeline.html">produtil.pipeline</a></div><div class="ttdoc">Internal module that launches and monitors processes. </div><div class="ttdef"><b>Definition:</b> <a href="pipeline_8py_source.html#l00001">pipeline.py:1</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1InvalidRunArgument_html"><div class="ttname"><a href="classprodutil_1_1prog_1_1InvalidRunArgument.html">produtil.prog.InvalidRunArgument</a></div><div class="ttdoc">Raised to indicate that an invalid argument was sent into one of the run module functions. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00092">prog.py:92</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1Runner_html_a74b5f57151ae60ee95739ecce95d81cc"><div class="ttname"><a href="classprodutil_1_1prog_1_1Runner.html#a74b5f57151ae60ee95739ecce95d81cc">produtil.prog.Runner._stderr</a></div><div class="ttdeci">_stderr</div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00411">prog.py:411</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1ImmutableRunner_html_a06ae61c05d6fcb93a7ea404d2d5dea50"><div class="ttname"><a href="classprodutil_1_1prog_1_1ImmutableRunner.html#a06ae61c05d6fcb93a7ea404d2d5dea50">produtil.prog.ImmutableRunner.__init__</a></div><div class="ttdeci">def __init__(self, args, kwargs)</div><div class="ttdoc">Creates a new ImmutableRunner. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00998">prog.py:998</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1ImmutableRunner_html"><div class="ttname"><a href="classprodutil_1_1prog_1_1ImmutableRunner.html">produtil.prog.ImmutableRunner</a></div><div class="ttdoc">An copy-on-write version of Runner. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00977">prog.py:977</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1Runner_html_a6a8167ce9eb05708e14281aa6b7cdcf6"><div class="ttname"><a href="classprodutil_1_1prog_1_1Runner.html#a6a8167ce9eb05708e14281aa6b7cdcf6">produtil.prog.Runner.args</a></div><div class="ttdeci">def args(self)</div><div class="ttdoc">Iterates over the executable and arguments of this command. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00673">prog.py:673</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1OutIsError_html_aa3a3de9d42958ceb44d879e3c1cdc4de"><div class="ttname"><a href="classprodutil_1_1prog_1_1OutIsError.html#aa3a3de9d42958ceb44d879e3c1cdc4de">produtil.prog.OutIsError.repr_for_out</a></div><div class="ttdeci">def repr_for_out(self)</div><div class="ttdoc">Part of the representation of Runner.__repr__. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00341">prog.py:341</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1OutIsError_html_a33373ef294446db4fbb062f8b353ac4a"><div class="ttname"><a href="classprodutil_1_1prog_1_1OutIsError.html#a33373ef294446db4fbb062f8b353ac4a">produtil.prog.OutIsError.copy</a></div><div class="ttdeci">def copy(self)</div><div class="ttdoc">Returns a new OutIsError object. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00329">prog.py:329</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1EqualInExecutable_html"><div class="ttname"><a href="classprodutil_1_1prog_1_1EqualInExecutable.html">produtil.prog.EqualInExecutable</a></div><div class="ttdoc">Raised when converting a Runner or pipeline of Runners to a posix sh string if a Runner&amp;#39;s executable ...</div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00081">prog.py:81</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1FileOpener_html_a39d8edf68b4c66de3da5d90623664c4b"><div class="ttname"><a href="classprodutil_1_1prog_1_1FileOpener.html#a39d8edf68b4c66de3da5d90623664c4b">produtil.prog.FileOpener.filename</a></div><div class="ttdeci">filename</div><div class="ttdoc">the name of the file being opened </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00199">prog.py:199</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1Runner_html_a3c63617c363be18ad4a178da3adbc077"><div class="ttname"><a href="classprodutil_1_1prog_1_1Runner.html#a3c63617c363be18ad4a178da3adbc077">produtil.prog.Runner._stdin</a></div><div class="ttdeci">_stdin</div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00411">prog.py:411</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1ImmutableRunner_html_a4b3cbd3eb94770549379700c869ab677"><div class="ttname"><a href="classprodutil_1_1prog_1_1ImmutableRunner.html#a4b3cbd3eb94770549379700c869ab677">produtil.prog.ImmutableRunner.copyenv</a></div><div class="ttdeci">def copyenv(self)</div><div class="ttdoc">Creates a new Runner that is like self in all ways except that it uses the parent process environment...</div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l01040">prog.py:1040</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1ImmutableRunner_html_ae7d24a12413dbb67ed7e722adece07ff"><div class="ttname"><a href="classprodutil_1_1prog_1_1ImmutableRunner.html#ae7d24a12413dbb67ed7e722adece07ff">produtil.prog.ImmutableRunner.cd</a></div><div class="ttdeci">def cd(self, cd)</div><div class="ttdoc">Returns a new Runner that is like self, except that it cd&amp;#39;s to the target directory before running...</div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l01052">prog.py:1052</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1Runner_html_a6eb0d60ae207ffe48b18a900c76c5cdd"><div class="ttname"><a href="classprodutil_1_1prog_1_1Runner.html#a6eb0d60ae207ffe48b18a900c76c5cdd">produtil.prog.Runner.__rshift__</a></div><div class="ttdeci">def __rshift__(self, stdout)</div><div class="ttdoc">Appends stdout to the specified file. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00632">prog.py:632</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1OutIsError_html"><div class="ttname"><a href="classprodutil_1_1prog_1_1OutIsError.html">produtil.prog.OutIsError</a></div><div class="ttdoc">Instructs a Runner to send stderr to stdout. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00325">prog.py:325</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1ImmutableRunner_html_a41ec5dc3395ceb260225f618ad759b94"><div class="ttname"><a href="classprodutil_1_1prog_1_1ImmutableRunner.html#a41ec5dc3395ceb260225f618ad759b94">produtil.prog.ImmutableRunner.inp</a></div><div class="ttdeci">def inp(self, stdin, string=False)</div><div class="ttdoc">Returns a new Runner that is like self in all ways except that it has a different stdin...</div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l01071">prog.py:1071</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1StreamReuser_html_ae6f84aa10c0048a705c8344f722b62c4"><div class="ttname"><a href="classprodutil_1_1prog_1_1StreamReuser.html#ae6f84aa10c0048a705c8344f722b62c4">produtil.prog.StreamReuser.repr_for_out</a></div><div class="ttdeci">def repr_for_out(self)</div><div class="ttdoc">Returns repr(obj) where obj is the given stream-like object. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00320">prog.py:320</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1StreamReuser_html"><div class="ttname"><a href="classprodutil_1_1prog_1_1StreamReuser.html">produtil.prog.StreamReuser</a></div><div class="ttdoc">Arranges for a stream-like object to be sent to the stdout, stderr or stdin of a Runner. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00294">prog.py:294</a></div></div>
<div class="ttc" id="classprodutil_1_1prog_1_1Runner_html_a53d161ca2b86623ae6249e78815b1257"><div class="ttname"><a href="classprodutil_1_1prog_1_1Runner.html#a53d161ca2b86623ae6249e78815b1257">produtil.prog.Runner.argins</a></div><div class="ttdeci">def argins(self, index, arg)</div><div class="ttdoc">Inserts the specified argument before the given index. </div><div class="ttdef"><b>Definition:</b> <a href="prog_8py_source.html#l00654">prog.py:654</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
